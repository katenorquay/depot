  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:13:05.436760', '2017-04-04 01:13:05.436760', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:13:05.436760', '2017-04-04 01:13:05.436760', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:13:05.439485', '2017-04-04 01:13:05.439485', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:13:05.439485', '2017-04-04 01:13:05.439485', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:13:05.441668', '2017-04-04 01:13:05.441668', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:13:05.441668', '2017-04-04 01:13:05.441668', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 01:13:05.441668', '2017-04-04 01:13:05.441668', 207281424)[0m
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 13:13:05 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (188.4ms)
Completed 200 OK in 248ms (Views: 239.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (11.7ms)
  Rendered products/edit.html.erb within layouts/application (13.3ms)
Completed 200 OK in 21ms (Views: 17.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 32ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fac3c235718,'0.1995E2',18(27)>], ["created_at", 2017-04-04 01:13:06 UTC], ["updated_at", 2017-04-04 01:13:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (14.8ms)
  Rendered products/new.html.erb within layouts/application (19.6ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fac38380748,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 01:13:06 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 23ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:13:06 UTC], ["updated_at", 2017-04-04 01:13:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts
Completed 302 Found in 34ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:13:06 UTC], ["updated_at", 2017-04-04 01:13:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 01:13:06 UTC], ["updated_at", 2017-04-04 01:13:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 23ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 13:13:06 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:38:45.272249', '2017-04-04 01:38:45.272249', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:38:45.272249', '2017-04-04 01:38:45.272249', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:38:45.277800', '2017-04-04 01:38:45.277800', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:38:45.277800', '2017-04-04 01:38:45.277800', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:38:45.282194', '2017-04-04 01:38:45.282194', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:38:45.282194', '2017-04-04 01:38:45.282194', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 01:38:45.282194', '2017-04-04 01:38:45.282194', 207281424)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 13:38:45 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 307ms (Views: 294.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7f953c290738,'0.1995E2',18(27)>], ["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (15.0ms)
  Rendered products/edit.html.erb within layouts/application (16.6ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7f953c083c88,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 01:38:46 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.4ms)
  Rendered carts/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 24ms (ActiveRecord: 1.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 01:38:46 UTC], ["updated_at", 2017-04-04 01:38:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 13:38:46 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.8ms)
  Rendered line_items/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:40:57.181356', '2017-04-04 01:40:57.181356', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 01:40:57.181356', '2017-04-04 01:40:57.181356', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:40:57.183420', '2017-04-04 01:40:57.183420', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 01:40:57.183420', '2017-04-04 01:40:57.183420', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:40:57.185281', '2017-04-04 01:40:57.185281', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 01:40:57.185281', '2017-04-04 01:40:57.185281', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 01:40:57.185281', '2017-04-04 01:40:57.185281', 207281424)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:40:57 UTC], ["updated_at", 2017-04-04 01:40:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 203ms (Views: 200.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (27.5ms)
Completed 200 OK in 37ms (Views: 31.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:40:57 UTC], ["updated_at", 2017-04-04 01:40:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 01:40:57 UTC], ["updated_at", 2017-04-04 01:40:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.9ms)
  Rendered carts/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (19.3ms)
  Rendered line_items/edit.html.erb within layouts/application (22.6ms)
Completed 200 OK in 33ms (Views: 30.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 01:40:57 UTC], ["updated_at", 2017-04-04 01:40:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 01:40:57 UTC], ["updated_at", 2017-04-04 01:40:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 13:40:57 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 16ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (11.5ms)
  Rendered products/new.html.erb within layouts/application (15.4ms)
Completed 200 OK in 29ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fabe0de1168,'0.1995E2',18(27)>], ["created_at", 2017-04-04 01:40:58 UTC], ["updated_at", 2017-04-04 01:40:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fabe290b0d8,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 01:40:58 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 15ms (ActiveRecord: 1.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.4ms)
  Rendered products/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 13:40:58 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "quantity" integer DEFAULT 1, "price" decimal(8,2))[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170404021013)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170403031202),
(20170403220256),
(20170403222501),
(20170403232055),
(20170403233417);

[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2017-04-04 02:41:28 UTC], ["updated_at", 2017-04-04 02:41:28 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:41:28.897335', '2017-04-04 02:41:28.897335', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:41:28.897335', '2017-04-04 02:41:28.897335', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:41:28.899951', '2017-04-04 02:41:28.899951', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:41:28.899951', '2017-04-04 02:41:28.899951', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:41:28.901695', '2017-04-04 02:41:28.901695', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:41:28.901695', '2017-04-04 02:41:28.901695', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 02:41:28.901695', '2017-04-04 02:41:28.901695', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 02:41:28.901695', '2017-04-04 02:41:28.901695', 110564781)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (180.0ms)
Completed 200 OK in 325ms (Views: 314.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC], ["price", #<BigDecimal:7fd791df43a8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 26ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (9.1ms)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (14.4ms)
  Rendered line_items/edit.html.erb within layouts/application (16.9ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.5ms)
  Rendered line_items/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC], ["price", #<BigDecimal:7fd797e4bf58,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.9ms)
  Rendered products/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7932c10b0,'0.1995E2',18(27)>], ["created_at", 2017-04-04 02:41:29 UTC], ["updated_at", 2017-04-04 02:41:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.0ms)
  Rendered products/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd797f18cb0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 02:41:29 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 14:41:29 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 14:41:30 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:42:11.974557', '2017-04-04 02:42:11.974557', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:42:11.974557', '2017-04-04 02:42:11.974557', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:42:11.977831', '2017-04-04 02:42:11.977831', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:42:11.977831', '2017-04-04 02:42:11.977831', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:42:11.979808', '2017-04-04 02:42:11.979808', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:42:11.979808', '2017-04-04 02:42:11.979808', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 02:42:11.979808', '2017-04-04 02:42:11.979808', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 02:42:11.979808', '2017-04-04 02:42:11.979808', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (7.3ms)
  Rendered carts/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 229ms (Views: 218.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (32.1ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.4ms)
  Rendered carts/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC], ["price", #<BigDecimal:7fd793e377c8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 16ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (16.3ms)
  Rendered line_items/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.6ms)
  Rendered line_items/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC], ["price", #<BigDecimal:7fd79713e2e8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.9ms)
  Rendered products/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd792471690,'0.1995E2',18(27)>], ["created_at", 2017-04-04 02:42:12 UTC], ["updated_at", 2017-04-04 02:42:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd792490d88,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 02:42:12 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 14:42:12 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:57:43.391227', '2017-04-04 02:57:43.391227', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 02:57:43.391227', '2017-04-04 02:57:43.391227', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:57:43.394853', '2017-04-04 02:57:43.394853', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 02:57:43.394853', '2017-04-04 02:57:43.394853', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:57:43.397946', '2017-04-04 02:57:43.397946', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 02:57:43.397946', '2017-04-04 02:57:43.397946', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 02:57:43.397946', '2017-04-04 02:57:43.397946', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 02:57:43.397946', '2017-04-04 02:57:43.397946', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 14:57:43 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (174.3ms)
Completed 200 OK in 214ms (Views: 205.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 14:57:43 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 46ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (11.7ms)
  Rendered products/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7933ddb38,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 02:57:44 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79328d710,'0.1995E2',18(27)>], ["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.3ms)
  Rendered products/edit.html.erb within layouts/application (9.0ms)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.0ms)
  Rendered line_items/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.6ms)
  Rendered line_items/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC], ["price", #<BigDecimal:7fd797cefe98,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC], ["price", #<BigDecimal:7fd79243b658,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (6.5ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 02:57:44 UTC], ["updated_at", 2017-04-04 02:57:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 14:57:44 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.4ms)
  Rendered carts/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:00:35.495699', '2017-04-04 03:00:35.495699', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:00:35.495699', '2017-04-04 03:00:35.495699', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:00:35.499479', '2017-04-04 03:00:35.499479', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:00:35.499479', '2017-04-04 03:00:35.499479', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:00:35.501789', '2017-04-04 03:00:35.501789', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:00:35.501789', '2017-04-04 03:00:35.501789', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:00:35.501789', '2017-04-04 03:00:35.501789', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:00:35.501789', '2017-04-04 03:00:35.501789', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:00:35 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (167.9ms)
Completed 200 OK in 231ms (Views: 221.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (9.7ms)
  Rendered line_items/new.html.erb within layouts/application (11.4ms)
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:00:36 UTC], ["updated_at", 2017-04-04 03:00:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.3ms)
  Rendered line_items/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 20ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.2ms)
  Rendered carts/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:00:36 UTC], ["updated_at", 2017-04-04 03:00:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:00:36 UTC], ["updated_at", 2017-04-04 03:00:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.1ms)
  Rendered carts/edit.html.erb within layouts/application (8.7ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.2ms)
  Rendered products/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.9ms)
  Rendered products/edit.html.erb within layouts/application (7.3ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd798abfbe0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:00:36 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:00:36 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd795c96660,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:00:36 UTC], ["updated_at", 2017-04-04 03:00:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:01:19.941237', '2017-04-04 03:01:19.941237', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:01:19.941237', '2017-04-04 03:01:19.941237', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:01:19.943798', '2017-04-04 03:01:19.943798', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:01:19.943798', '2017-04-04 03:01:19.943798', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:01:19.946023', '2017-04-04 03:01:19.946023', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:01:19.946023', '2017-04-04 03:01:19.946023', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:01:19.946023', '2017-04-04 03:01:19.946023', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:01:19.946023', '2017-04-04 03:01:19.946023', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (11.9ms)
  Rendered line_items/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 209ms (Views: 200.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 23ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC], ["price", #<BigDecimal:7fd7958b82c8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 38ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (12.3ms)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd795fc47b0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:01:20 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.5ms)
  Rendered products/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7984ed6b8,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC], ["price", #<BigDecimal:7fd7984dff40,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (8.4ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:01:20 UTC], ["updated_at", 2017-04-04 03:01:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:01:20 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:04:42.108814', '2017-04-04 03:04:42.108814', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:04:42.108814', '2017-04-04 03:04:42.108814', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:04:42.111744', '2017-04-04 03:04:42.111744', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:04:42.111744', '2017-04-04 03:04:42.111744', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:04:42.113959', '2017-04-04 03:04:42.113959', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:04:42.113959', '2017-04-04 03:04:42.113959', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:04:42.113959', '2017-04-04 03:04:42.113959', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:04:42.113959', '2017-04-04 03:04:42.113959', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (6.4ms)
  Rendered carts/edit.html.erb within layouts/application (8.5ms)
Completed 200 OK in 191ms (Views: 180.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC], ["price", #<BigDecimal:7fd795d02f68,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 33ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (10.4ms)
  Rendered products/edit.html.erb within layouts/application (11.7ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7923c2550,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:04:42 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 16ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7923db050,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:04:42 UTC], ["updated_at", 2017-04-04 03:04:42 UTC], ["price", #<BigDecimal:7fd7970e0170,'0.495E2',18(27)>]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 18ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:04:42 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:04:43 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:08:43.044685', '2017-04-04 03:08:43.044685', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:08:43.044685', '2017-04-04 03:08:43.044685', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:08:43.047088', '2017-04-04 03:08:43.047088', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:08:43.047088', '2017-04-04 03:08:43.047088', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:08:43.049508', '2017-04-04 03:08:43.049508', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:08:43.049508', '2017-04-04 03:08:43.049508', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:08:43.049508', '2017-04-04 03:08:43.049508', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:08:43.049508', '2017-04-04 03:08:43.049508', 110564781)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:08:43 UTC], ["updated_at", 2017-04-04 03:08:43 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:08:43 UTC], ["updated_at", 2017-04-04 03:08:43 UTC], ["price", #<BigDecimal:7fd793cf1ee0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 42ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (7.4ms)
  Rendered carts/edit.html.erb within layouts/application (10.7ms)
Completed 200 OK in 211ms (Views: 209.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.0ms)
  Rendered carts/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:08:43 UTC], ["updated_at", 2017-04-04 03:08:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:08:43 UTC], ["updated_at", 2017-04-04 03:08:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:08:43 UTC], ["updated_at", 2017-04-04 03:08:43 UTC], ["price", #<BigDecimal:7fd7978d0740,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (12.2ms)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 1.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (20.5ms)
  Rendered line_items/new.html.erb within layouts/application (22.5ms)
Completed 200 OK in 30ms (Views: 27.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7984c1248,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:08:43 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 17ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:08:43 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:08:44 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:08:44 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:08:44 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79850c798,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:08:44 UTC], ["updated_at", 2017-04-04 03:08:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:08:44 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (10.1ms)
  Rendered products/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:08:44 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:10:57.382755', '2017-04-04 03:10:57.382755', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:10:57.382755', '2017-04-04 03:10:57.382755', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (1, '2017-04-04 03:10:57.385236', '2017-04-04 03:10:57.385236', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (2, '2017-04-04 03:10:57.385236', '2017-04-04 03:10:57.385236', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:10:57.388629', '2017-04-04 03:10:57.388629', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:10:57.388629', '2017-04-04 03:10:57.388629', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:10:57.388629', '2017-04-04 03:10:57.388629', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:10:57.388629', '2017-04-04 03:10:57.388629', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:10:57 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 13ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:10:57 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:10:57 UTC], ["updated_at", 2017-04-04 03:10:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:10:57 UTC], ["updated_at", 2017-04-04 03:10:57 UTC], ["price", #<BigDecimal:7fd7938ee8e8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 34ms (ActiveRecord: 1.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:10:57 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:10:57 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (7.6ms)
  Rendered carts/edit.html.erb within layouts/application (10.3ms)
Completed 200 OK in 201ms (Views: 199.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:10:58 UTC], ["updated_at", 2017-04-04 03:10:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1/edit" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (8.5ms)
  Rendered line_items/edit.html.erb within layouts/application (10.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/1" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:10:58 UTC], ["updated_at", 2017-04-04 03:10:58 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:10:58 UTC], ["updated_at", 2017-04-04 03:10:58 UTC], ["price", #<BigDecimal:7fd795e60ae0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 1.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/line_items/1" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"1"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/1
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd797a03090,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:10:58 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7933ab250,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:10:58 UTC], ["updated_at", 2017-04-04 03:10:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:10:58 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:12:29.435233', '2017-04-04 03:12:29.435233', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:12:29.435233', '2017-04-04 03:12:29.435233', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (1, '2017-04-04 03:12:29.437860', '2017-04-04 03:12:29.437860', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (2, '2017-04-04 03:12:29.437860', '2017-04-04 03:12:29.437860', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:12:29.440592', '2017-04-04 03:12:29.440592', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:12:29.440592', '2017-04-04 03:12:29.440592', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:12:29.440592', '2017-04-04 03:12:29.440592', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:12:29.440592', '2017-04-04 03:12:29.440592', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1/edit" for 127.0.0.1 at 2017-04-04 15:12:29 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (13.4ms)
  Rendered line_items/edit.html.erb within layouts/application (15.6ms)
Completed 200 OK in 222ms (Views: 211.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/1" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/line_items/1" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"1"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/1
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC], ["price", #<BigDecimal:7fd7980739c0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 27ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (11.3ms)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Attempt to access invalid cart 1
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC], ["price", #<BigDecimal:7fd797558158,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 12ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.2ms)
  Rendered carts/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (5.3ms)
  Rendered products/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7933bf5c0,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:12:30 UTC], ["updated_at", 2017-04-04 03:12:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd795d5f3d0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:12:30 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 18ms (Views: 11.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:12:30 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 03:14:08.288820', '2017-04-04 03:14:08.288820')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:14:08.288820', '2017-04-04 03:14:08.288820', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (1, '2017-04-04 03:14:08.291264', '2017-04-04 03:14:08.291264', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id", "created_at", "updated_at", "product_id", "cart_id") VALUES (2, '2017-04-04 03:14:08.291264', '2017-04-04 03:14:08.291264', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:14:08.293327', '2017-04-04 03:14:08.293327', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:14:08.293327', '2017-04-04 03:14:08.293327', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:14:08.293327', '2017-04-04 03:14:08.293327', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:14:08.293327', '2017-04-04 03:14:08.293327', 110564781)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (15.2ms)
Completed 200 OK in 205ms (Views: 195.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/1/edit" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (32.4ms)
  Rendered line_items/edit.html.erb within layouts/application (33.8ms)
Completed 200 OK in 40ms (Views: 37.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/line_items/1" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"1"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/1" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:14:08 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:14:08 UTC], ["updated_at", 2017-04-04 03:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:14:09 UTC], ["updated_at", 2017-04-04 03:14:09 UTC], ["price", #<BigDecimal:7fd793b2d118,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 40ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (11.9ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (8.1ms)
  Rendered products/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.9ms)
  Rendered products/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79834b828,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:14:09 UTC], ["updated_at", 2017-04-04 03:14:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79838b338,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:14:09 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:14:09 UTC], ["updated_at", 2017-04-04 03:14:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:14:09 UTC], ["updated_at", 2017-04-04 03:14:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:14:09 UTC], ["updated_at", 2017-04-04 03:14:09 UTC], ["price", #<BigDecimal:7fd7932489d0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:14:09 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 03:15:09.205687', '2017-04-04 03:15:09.205687')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:15:09.205687', '2017-04-04 03:15:09.205687', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:15:09.209358', '2017-04-04 03:15:09.209358', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:15:09.209358', '2017-04-04 03:15:09.209358', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:15:09.211703', '2017-04-04 03:15:09.211703', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:15:09.211703', '2017-04-04 03:15:09.211703', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:15:09.211703', '2017-04-04 03:15:09.211703', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:15:09.211703', '2017-04-04 03:15:09.211703', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd791fd4b78,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:15:09 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 24ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (184.5ms)
Completed 200 OK in 239ms (Views: 236.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (12.6ms)
  Rendered products/edit.html.erb within layouts/application (14.2ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7958480e0,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:15:09 UTC], ["updated_at", 2017-04-04 03:15:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (5.9ms)
  Rendered products/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (9.1ms)
  Rendered carts/edit.html.erb within layouts/application (10.9ms)
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:15:09 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:10 UTC], ["updated_at", 2017-04-04 03:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:15:10 UTC], ["updated_at", 2017-04-04 03:15:10 UTC], ["price", #<BigDecimal:7fd795f0fa90,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 33ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.9ms)
  Rendered carts/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:10 UTC], ["updated_at", 2017-04-04 03:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (12.1ms)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:10 UTC], ["updated_at", 2017-04-04 03:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:15:10 UTC], ["updated_at", 2017-04-04 03:15:10 UTC], ["price", #<BigDecimal:7fd7925800b8,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:15:10 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:15:34.535905', '2017-04-04 03:15:34.535905', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:15:34.535905', '2017-04-04 03:15:34.535905', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:15:34.538788', '2017-04-04 03:15:34.538788', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:15:34.538788', '2017-04-04 03:15:34.538788', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:15:34.541238', '2017-04-04 03:15:34.541238', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:15:34.541238', '2017-04-04 03:15:34.541238', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:15:34.541238', '2017-04-04 03:15:34.541238', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:15:34.541238', '2017-04-04 03:15:34.541238', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:15:34 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:15:34 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (28.8ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:15:34 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.8ms)
  Rendered carts/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 188ms (Views: 185.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC], ["price", #<BigDecimal:7fd798842a70,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd792368550,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:15:35 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (20.6ms)
  Rendered products/edit.html.erb within layouts/application (23.5ms)
Completed 200 OK in 32ms (Views: 30.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7923c0f98,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 29ms (Views: 26.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:15:35 UTC], ["updated_at", 2017-04-04 03:15:35 UTC], ["price", #<BigDecimal:7fd793307a60,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.6ms)
  Rendered line_items/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:15:35 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:17:20.892914', '2017-04-04 03:17:20.892914', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:17:20.892914', '2017-04-04 03:17:20.892914', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:17:20.895525', '2017-04-04 03:17:20.895525', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:17:20.895525', '2017-04-04 03:17:20.895525', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:17:20.898307', '2017-04-04 03:17:20.898307', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:17:20.898307', '2017-04-04 03:17:20.898307', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:17:20.898307', '2017-04-04 03:17:20.898307', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:17:20.898307', '2017-04-04 03:17:20.898307', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 207ms (Views: 204.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC], ["price", #<BigDecimal:7fd7924ea540,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 32ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Attempt to access invalid cart 1
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (8.4ms)
  Rendered products/edit.html.erb within layouts/application (9.8ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7971b3728,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7971d16b0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:17:21 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:17:21 UTC], ["updated_at", 2017-04-04 03:17:21 UTC], ["price", #<BigDecimal:7fd795cb1a28,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:17:21 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:18:19.875641', '2017-04-04 03:18:19.875641', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:18:19.875641', '2017-04-04 03:18:19.875641', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:18:19.878982', '2017-04-04 03:18:19.878982', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:18:19.878982', '2017-04-04 03:18:19.878982', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:18:19.881217', '2017-04-04 03:18:19.881217', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:18:19.881217', '2017-04-04 03:18:19.881217', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:18:19.881217', '2017-04-04 03:18:19.881217', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:18:19.881217', '2017-04-04 03:18:19.881217', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (170.0ms)
Completed 200 OK in 199ms (Views: 189.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (9.3ms)
  Rendered line_items/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC], ["price", #<BigDecimal:7fd793bfe100,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 49ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 26ms (Views: 13.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.6ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC], ["price", #<BigDecimal:7fd7983cb2f8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (8.1ms)
  Rendered products/edit.html.erb within layouts/application (12.5ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd793285128,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:18:20 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.8ms)
  Rendered products/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:18:20 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7932b03a0,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:18:20 UTC], ["updated_at", 2017-04-04 03:18:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:18:45.215217', '2017-04-04 03:18:45.215217', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:18:45.215217', '2017-04-04 03:18:45.215217', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:18:45.218693', '2017-04-04 03:18:45.218693', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:18:45.218693', '2017-04-04 03:18:45.218693', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:18:45.221195', '2017-04-04 03:18:45.221195', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:18:45.221195', '2017-04-04 03:18:45.221195', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:18:45.221195', '2017-04-04 03:18:45.221195', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:18:45.221195', '2017-04-04 03:18:45.221195', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7921b94e8,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:18:45 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 25ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7920f0570,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:18:45 UTC], ["updated_at", 2017-04-04 03:18:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (160.6ms)
Completed 200 OK in 210ms (Views: 206.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (19.7ms)
  Rendered products/edit.html.erb within layouts/application (24.2ms)
Completed 200 OK in 35ms (Views: 32.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:18:45 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (40.2ms)
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:46 UTC], ["updated_at", 2017-04-04 03:18:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:18:46 UTC], ["updated_at", 2017-04-04 03:18:46 UTC], ["price", #<BigDecimal:7fd792490338,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 17ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.4ms)
  Rendered line_items/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.0ms)
  Rendered line_items/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190962]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.2ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:46 UTC], ["updated_at", 2017-04-04 03:18:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/carts/980190962/edit" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.7ms)
  Rendered carts/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:18:46 UTC], ["updated_at", 2017-04-04 03:18:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:18:46 UTC], ["updated_at", 2017-04-04 03:18:46 UTC], ["price", #<BigDecimal:7fd797c65428,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 18ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:18:46 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.4ms)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 03:25:40.394674', '2017-04-04 03:25:40.394674')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:25:40.394674', '2017-04-04 03:25:40.394674', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:25:40.397578', '2017-04-04 03:25:40.397578', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:25:40.397578', '2017-04-04 03:25:40.397578', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:25:40.400080', '2017-04-04 03:25:40.400080', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:25:40.400080', '2017-04-04 03:25:40.400080', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:25:40.400080', '2017-04-04 03:25:40.400080', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:25:40.400080', '2017-04-04 03:25:40.400080', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:25:40 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (162.4ms)
Completed 200 OK in 212ms (Views: 203.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:25:40 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (7.3ms)
  Rendered line_items/edit.html.erb within layouts/application (8.6ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:25:40 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (9.4ms)
  Rendered line_items/edit.html.erb within layouts/application (11.3ms)
Completed 200 OK in 22ms (Views: 16.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC], ["price", #<BigDecimal:7fd797938868,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 49ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.6ms)
  Rendered carts/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC], ["price", #<BigDecimal:7fd79231e2e8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.5ms)
  Rendered products/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79233dad0,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:25:41 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:25:41 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd79912a3e0,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:25:41 UTC], ["updated_at", 2017-04-04 03:25:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 03:27:08.548359', '2017-04-04 03:27:08.548359')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:27:08.548359', '2017-04-04 03:27:08.548359', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:27:08.551004', '2017-04-04 03:27:08.551004', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:27:08.551004', '2017-04-04 03:27:08.551004', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:27:08.553746', '2017-04-04 03:27:08.553746', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:27:08.553746', '2017-04-04 03:27:08.553746', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:27:08.553746', '2017-04-04 03:27:08.553746', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:27:08.553746', '2017-04-04 03:27:08.553746', 110564781)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:27:08 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:08 UTC], ["updated_at", 2017-04-04 03:27:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:27:08 UTC], ["updated_at", 2017-04-04 03:27:08 UTC], ["price", #<BigDecimal:7fd7921a2478,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 49ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:27:08 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 15:27:08 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (4.1ms)
  Rendered carts/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 187ms (Views: 184.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:09 UTC], ["updated_at", 2017-04-04 03:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.7ms)
  Rendered carts/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (15.0ms)
  Rendered line_items/edit.html.erb within layouts/application (17.6ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:09 UTC], ["updated_at", 2017-04-04 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:27:09 UTC], ["updated_at", 2017-04-04 03:27:09 UTC], ["price", #<BigDecimal:7fd797a0a930,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.9ms)
  Rendered line_items/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 18ms (Views: 12.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd797822398,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:27:09 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.3ms)
  Rendered products/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd798a21508,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:27:09 UTC], ["updated_at", 2017-04-04 03:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:09 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 03:27:21.203615', '2017-04-04 03:27:21.203615')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 03:27:21.203615', '2017-04-04 03:27:21.203615', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:27:21.206248', '2017-04-04 03:27:21.206248', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 03:27:21.206248', '2017-04-04 03:27:21.206248', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:27:21.208877', '2017-04-04 03:27:21.208877', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 03:27:21.208877', '2017-04-04 03:27:21.208877', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 03:27:21.208877', '2017-04-04 03:27:21.208877', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 03:27:21.208877', '2017-04-04 03:27:21.208877', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (164.5ms)
Completed 200 OK in 195ms (Views: 186.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7978a8bc8,'0.1995E2',18(27)>], ["created_at", 2017-04-04 03:27:21 UTC], ["updated_at", 2017-04-04 03:27:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (22.3ms)
  Rendered products/edit.html.erb within layouts/application (31.0ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.4ms)
  Rendered products/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7979b2848,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 03:27:21 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:27:21 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:22 UTC], ["updated_at", 2017-04-04 03:27:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:27:22 UTC], ["updated_at", 2017-04-04 03:27:22 UTC], ["price", #<BigDecimal:7fd798192310,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 49ms (ActiveRecord: 1.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:22 UTC], ["updated_at", 2017-04-04 03:27:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered carts/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 03:27:22 UTC], ["updated_at", 2017-04-04 03:27:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 03:27:22 UTC], ["updated_at", 2017-04-04 03:27:22 UTC], ["price", #<BigDecimal:7fd797b4b0d8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/carts/980190963" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered carts/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.1ms)
  Rendered line_items/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 15:27:22 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 04:23:58.458868', '2017-04-04 04:23:58.458868')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 04:23:58.458868', '2017-04-04 04:23:58.458868', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:23:58.462586', '2017-04-04 04:23:58.462586', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:23:58.462586', '2017-04-04 04:23:58.462586', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:23:58.466420', '2017-04-04 04:23:58.466420', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:23:58.466420', '2017-04-04 04:23:58.466420', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 04:23:58.466420', '2017-04-04 04:23:58.466420', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 04:23:58.466420', '2017-04-04 04:23:58.466420', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 16:23:58 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd793f42078,'0.1995E2',18(27)>], ["created_at", 2017-04-04 04:23:58 UTC], ["updated_at", 2017-04-04 04:23:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 40ms (ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 16:23:58 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (22.7ms)
  Rendered products/new.html.erb within layouts/application (25.5ms)
Completed 500 Internal Server Error in 331ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/edit.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd797ccab48,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 04:23:59 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.8ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (19.0ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 51ms (Views: 38.1ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/new.html.erb within layouts/application (4.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC], ["price", #<BigDecimal:7fd795d3f670,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (3.2ms)
  Rendered carts/show.html.erb within layouts/application (4.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.9ms)
  Rendered carts/edit.html.erb within layouts/application (4.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (8.1ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (25.7ms)
  Rendered line_items/edit.html.erb within layouts/application (27.5ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/edit.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/new.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.3ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:23:59 UTC], ["updated_at", 2017-04-04 04:23:59 UTC], ["price", #<BigDecimal:7fd797b223b8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-04 16:23:59 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.9ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (9.4ms)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 04:26:10.551475', '2017-04-04 04:26:10.551475')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 04:26:10.551475', '2017-04-04 04:26:10.551475', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:26:10.554675', '2017-04-04 04:26:10.554675', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:26:10.554675', '2017-04-04 04:26:10.554675', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:26:10.558453', '2017-04-04 04:26:10.558453', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:26:10.558453', '2017-04-04 04:26:10.558453', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 04:26:10.558453', '2017-04-04 04:26:10.558453', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 04:26:10.558453', '2017-04-04 04:26:10.558453', 110564781)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:26:10 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC], ["price", #<BigDecimal:7fd791fee438,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 60ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (9.6ms)
  Rendered carts/edit.html.erb within layouts/application (13.9ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (10.3ms)
Completed 200 OK in 267ms (Views: 265.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (3.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.6ms)
  Rendered carts/new.html.erb within layouts/application (3.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC], ["price", #<BigDecimal:7fd792151258,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (19.7ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (5.6ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (23.6ms)
  Rendered line_items/edit.html.erb within layouts/application (27.1ms)
Completed 200 OK in 45ms (Views: 39.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.2ms)
  Rendered line_items/edit.html.erb within layouts/application (7.7ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (8.1ms)
  Rendered products/new.html.erb within layouts/application (11.1ms)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7923ac4a8,'0.1995E2',18(27)>], ["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fd7988bab38,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 04:26:11 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (5.8ms)
  Rendered products/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 16:26:11 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:26:11 UTC], ["updated_at", 2017-04-04 04:26:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.9ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.6ms)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 0.6ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 04:57:36.227811', '2017-04-04 04:57:36.227811')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 04:57:36.227811', '2017-04-04 04:57:36.227811', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:57:36.230624', '2017-04-04 04:57:36.230624', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 04:57:36.230624', '2017-04-04 04:57:36.230624', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:57:36.232875', '2017-04-04 04:57:36.232875', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 04:57:36.232875', '2017-04-04 04:57:36.232875', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 04:57:36.232875', '2017-04-04 04:57:36.232875', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 04:57:36.232875', '2017-04-04 04:57:36.232875', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:57:36 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (33.2ms)
Completed 200 OK in 603ms (Views: 590.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (33.6ms)
  Rendered line_items/new.html.erb within layouts/application (35.4ms)
Completed 200 OK in 41ms (Views: 39.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 17ms (Views: 11.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC], ["price", #<BigDecimal:7f9bbaf12220,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 37ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (17.1ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.0ms)
  Rendered carts/_cart.html.erb (9.5ms)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.9ms)
  Rendered line_items/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC], ["price", #<BigDecimal:7f9bb70b4690,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (6.9ms)
  Rendered line_items/create.js.erb (10.3ms)
Completed 200 OK in 41ms (Views: 15.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.0ms)
  Rendered carts/edit.html.erb within layouts/application (5.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 28ms (Views: 16.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.0ms)
  Rendered carts/new.html.erb within layouts/application (6.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
  Rendered carts/show.html.erb within layouts/application (4.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC], ["price", #<BigDecimal:7f9bb7164298,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (8.3ms)
Completed 200 OK in 37ms (Views: 32.3ms | ActiveRecord: 0.9ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (9.4ms)
  Rendered products/new.html.erb within layouts/application (11.8ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7f9bb7b8f290,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 04:57:37 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7f9bb71cfa98,'0.1995E2',18(27)>], ["created_at", 2017-04-04 04:57:37 UTC], ["updated_at", 2017-04-04 04:57:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 16ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-04 16:57:37 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-04 22:57:30.819131', '2017-04-04 22:57:30.819131')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-04 22:57:30.819131', '2017-04-04 22:57:30.819131', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 22:57:30.822339', '2017-04-04 22:57:30.822339', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-04 22:57:30.822339', '2017-04-04 22:57:30.822339', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 22:57:30.824657', '2017-04-04 22:57:30.824657', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-04 22:57:30.824657', '2017-04-04 22:57:30.824657', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-04 22:57:30.824657', '2017-04-04 22:57:30.824657', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-04 22:57:30.824657', '2017-04-04 22:57:30.824657', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (185.8ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (11.4ms)
Completed 200 OK in 254ms (Views: 238.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 31ms (Views: 26.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (11.2ms)
  Rendered line_items/edit.html.erb within layouts/application (12.9ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC], ["price", #<BigDecimal:7fdecf3d4cc0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.7ms)
  Rendered carts/_cart.html.erb (4.1ms)
  Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 23ms (Views: 11.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC], ["price", #<BigDecimal:7fdecf3ed2c0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.1ms)
  Rendered carts/_cart.html.erb (7.3ms)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.9ms)
  Rendered line_items/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (5.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC], ["price", #<BigDecimal:7fded0eb5440,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.7ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (3.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fdeca923de8,'0.1995E2',18(27)>], ["created_at", 2017-04-04 22:57:31 UTC], ["updated_at", 2017-04-04 22:57:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.6ms)
  Rendered products/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fded09f86c8,'0.1995E2',18(27)>], ["updated_at", 2017-04-04 22:57:31 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 10:57:31 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 00:20:34.636394', '2017-04-05 00:20:34.636394')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 00:20:34.636394', '2017-04-05 00:20:34.636394', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 00:20:34.639654', '2017-04-05 00:20:34.639654', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 00:20:34.639654', '2017-04-05 00:20:34.639654', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 00:20:34.642581', '2017-04-05 00:20:34.642581', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 00:20:34.642581', '2017-04-05 00:20:34.642581', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 00:20:34.642581', '2017-04-05 00:20:34.642581', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 00:20:34.642581', '2017-04-05 00:20:34.642581', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32bb295a0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 00:20:35 UTC], ["updated_at", 2017-04-05 00:20:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 28ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (15.2ms)
  Rendered products/new.html.erb within layouts/application (17.5ms)
Completed 200 OK in 425ms (Views: 423.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 29ms (Views: 26.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.0ms)
  Rendered products/edit.html.erb within layouts/application (7.8ms)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32dbb8898,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 00:20:35 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (39.4ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 70ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (12.3ms)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 20ms (Views: 14.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 00:20:35 UTC], ["updated_at", 2017-04-05 00:20:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-05 00:20:35 UTC], ["updated_at", 2017-04-05 00:20:35 UTC], ["price", #<BigDecimal:7ff32eb03910,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.8ms)
  Rendered carts/_cart.html.erb (10.5ms)
  Rendered line_items/create.js.erb (14.8ms)
Completed 200 OK in 39ms (Views: 20.1ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 19ms (Views: 10.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 00:20:35 UTC], ["updated_at", 2017-04-05 00:20:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-05 00:20:35 UTC], ["updated_at", 2017-04-05 00:20:35 UTC], ["price", #<BigDecimal:7ff32ddda400,'0.495E2',18(27)>]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 12:20:35 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (12.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.5ms)
  Rendered carts/_cart.html.erb (5.7ms)
Completed 200 OK in 29ms (Views: 24.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 00:20:36 UTC], ["updated_at", 2017-04-05 00:20:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (22.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.2ms)
Completed 200 OK in 45ms (Views: 38.0ms | ActiveRecord: 2.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 00:20:36 UTC], ["updated_at", 2017-04-05 00:20:36 UTC]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 980190963], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 980190963], ["created_at", 2017-04-05 00:20:36 UTC], ["updated_at", 2017-04-05 00:20:36 UTC], ["price", #<BigDecimal:7ff32859fdf8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 3.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/980190963" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.0ms)
  Rendered carts/show.html.erb within layouts/application (7.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 00:20:36 UTC], ["updated_at", 2017-04-05 00:20:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 12:20:36 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/new.html.erb within layouts/application (3.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "quantity" integer DEFAULT 1, "price" decimal(8,2), "order_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170405013308)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170403031202),
(20170403220256),
(20170403222501),
(20170403232055),
(20170403233417),
(20170404021013),
(20170405013231);

[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2017-04-05 01:41:47 UTC], ["updated_at", 2017-04-05 01:41:47 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 01:45:19.662043', '2017-04-05 01:45:19.662043')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 01:45:19.662043', '2017-04-05 01:45:19.662043', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:45:19.664766', '2017-04-05 01:45:19.664766', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:45:19.664766', '2017-04-05 01:45:19.664766', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:45:19.667009', '2017-04-05 01:45:19.667009', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:45:19.667009', '2017-04-05 01:45:19.667009', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:45:19.669545', '2017-04-05 01:45:19.669545', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:45:19.669545', '2017-04-05 01:45:19.669545', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 01:45:19.669545', '2017-04-05 01:45:19.669545', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 01:45:19.669545', '2017-04-05 01:45:19.669545', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (200.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 592ms (Views: 575.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "MyString"], ["address", "MyText"], ["email", "MyString"], ["pay_type", 1], ["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (12.8ms)
  Rendered orders/edit.html.erb within layouts/application (15.6ms)
Completed 200 OK in 24ms (Views: 20.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC], ["price", #<BigDecimal:7ff32e66f2a0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (3.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.2ms)
  Rendered carts/new.html.erb within layouts/application (3.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC], ["price", #<BigDecimal:7ff32f4975a8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered carts/show.html.erb within layouts/application (4.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC], ["price", #<BigDecimal:7ff32a1ca690,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (0.8ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:45:20 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:45:20 UTC], ["updated_at", 2017-04-05 01:45:20 UTC], ["price", #<BigDecimal:7ff32e0db668,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 20ms (Views: 17.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 20ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32e6fd960,'0.1995E2',18(27)>], ["created_at", 2017-04-05 01:45:21 UTC], ["updated_at", 2017-04-05 01:45:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32a380f48,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 01:45:21 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 33ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 13:45:21 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 01:52:02.509872', '2017-04-05 01:52:02.509872')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 01:52:02.509872', '2017-04-05 01:52:02.509872', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:52:02.513016', '2017-04-05 01:52:02.513016', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:52:02.513016', '2017-04-05 01:52:02.513016', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:52:02.515571', '2017-04-05 01:52:02.515571', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:52:02.515571', '2017-04-05 01:52:02.515571', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:52:02.517912', '2017-04-05 01:52:02.517912', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:52:02.517912', '2017-04-05 01:52:02.517912', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 01:52:02.517912', '2017-04-05 01:52:02.517912', 207281424)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 01:52:02.517912', '2017-04-05 01:52:02.517912', 110564781)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 13:52:02 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:02 UTC], ["updated_at", 2017-04-05 01:52:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (232.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.7ms)
Completed 200 OK in 328ms (Views: 310.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (15.2ms)
  Rendered orders/edit.html.erb within layouts/application (17.7ms)
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "MyString"], ["address", "MyText"], ["email", "MyString"], ["pay_type", 1], ["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC], ["price", #<BigDecimal:7ff32bed9678,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 30ms (Views: 26.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC], ["price", #<BigDecimal:7ff329755520,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.0ms)
  Rendered carts/_cart.html.erb (7.4ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 46ms (Views: 18.6ms | ActiveRecord: 2.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 41ms (Views: 37.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (5.5ms)
  Rendered carts/new.html.erb within layouts/application (9.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC], ["price", #<BigDecimal:7ff328d370c0,'0.495E2',18(27)>]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered carts/show.html.erb within layouts/application (7.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 22ms (Views: 16.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.4ms)
  [1m[36mLineItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.1ms)
  Rendered products/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff328b15df0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 01:52:03 UTC], ["updated_at", 2017-04-05 01:52:03 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 14ms (ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 23ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32bef2588,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 01:52:03 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (16.2ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 44ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 13:52:03 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (7.6ms)
  Rendered products/edit.html.erb within layouts/application (11.1ms)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 13:52:04 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 01:54:10.087193', '2017-04-05 01:54:10.087193')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 01:54:10.087193', '2017-04-05 01:54:10.087193', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:54:10.090428', '2017-04-05 01:54:10.090428', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 01:54:10.090428', '2017-04-05 01:54:10.090428', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:54:10.093015', '2017-04-05 01:54:10.093015', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 1, '2017-04-05 01:54:10.093015', '2017-04-05 01:54:10.093015', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:54:10.095683', '2017-04-05 01:54:10.095683', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 01:54:10.095683', '2017-04-05 01:54:10.095683', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 01:54:10.095683', '2017-04-05 01:54:10.095683', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 01:54:10.095683', '2017-04-05 01:54:10.095683', 110564781)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 13:54:10 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:10 UTC], ["updated_at", 2017-04-05 01:54:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (208.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 320ms (Views: 302.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 13:54:10 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:54:10 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:10 UTC], ["updated_at", 2017-04-05 01:54:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:54:10 UTC], ["updated_at", 2017-04-05 01:54:10 UTC], ["price", #<BigDecimal:7ff32e0896d8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 45ms (ActiveRecord: 1.3ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 13:54:10 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (18.5ms)
  Rendered orders/new.html.erb within layouts/application (20.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.0ms)
  Rendered carts/_cart.html.erb (8.8ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "MyString"], ["address", "MyText"], ["email", "MyString"], ["pay_type", 1], ["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.2ms)
  Rendered orders/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC], ["price", #<BigDecimal:7ff32e6e8a10,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 2.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (2.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.9ms)
  Rendered carts/new.html.erb within layouts/application (6.2ms)
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (4.4ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (9.3ms)
  Rendered carts/show.html.erb within layouts/application (12.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 24ms (Views: 20.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32a1a4620,'0.1995E2',18(27)>], ["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff32e400708,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 01:54:11 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (11.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 41ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.2ms)
  Rendered products/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.9ms)
  Rendered line_items/edit.html.erb within layouts/application (6.8ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC], ["price", #<BigDecimal:7ff328797ac0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.4ms)
  Rendered carts/_cart.html.erb (8.0ms)
  Rendered line_items/create.js.erb (10.1ms)
Completed 200 OK in 25ms (Views: 14.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 01:54:11 UTC], ["updated_at", 2017-04-05 01:54:11 UTC], ["price", #<BigDecimal:7ff328697c88,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (16.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.3ms)
  Rendered carts/_cart.html.erb (8.1ms)
Completed 200 OK in 41ms (Views: 36.6ms | ActiveRecord: 1.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 13:54:11 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:41:11.630575', '2017-04-05 04:41:11.630575')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:41:11.630575', '2017-04-05 04:41:11.630575', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:41:11.633861', '2017-04-05 04:41:11.633861', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:41:11.633861', '2017-04-05 04:41:11.633861', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:41:11.636343', '2017-04-05 04:41:11.636343', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:41:11.636343', '2017-04-05 04:41:11.636343', 298486374)[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:41:11.638592', '2017-04-05 04:41:11.638592', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:41:11.638592', '2017-04-05 04:41:11.638592', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:41:11.638592', '2017-04-05 04:41:11.638592', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:41:11.638592', '2017-04-05 04:41:11.638592', 110564781)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC], ["price", #<BigDecimal:7fa9e01f2048,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 54ms (ActiveRecord: 1.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (15.8ms)
  Rendered orders/new.html.erb within layouts/application (18.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (19.8ms)
  Rendered carts/_cart.html.erb (26.9ms)
Completed 200 OK in 422ms (Views: 410.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 19ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 6efd41c8-9669-4747-a94d-d757cb9bc125) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e42a31a0 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 63ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.3ms)
  Rendered orders/edit.html.erb within layouts/application (7.2ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (4.0ms)
  Rendered carts/show.html.erb within layouts/application (5.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 20ms (Views: 11.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC], ["price", #<BigDecimal:7fa9e068b988,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/edit.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:41:12.915287', '2017-04-05 04:41:12.915287')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:41:12.915287', '2017-04-05 04:41:12.915287', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:41:12.917897', '2017-04-05 04:41:12.917897', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:41:12.917897', '2017-04-05 04:41:12.917897', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:41:12.919634', '2017-04-05 04:41:12.919634', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:41:12.919634', '2017-04-05 04:41:12.919634', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:41:12.921317', '2017-04-05 04:41:12.921317', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:41:12.921317', '2017-04-05 04:41:12.921317', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:41:12.921317', '2017-04-05 04:41:12.921317', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:41:12.921317', '2017-04-05 04:41:12.921317', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:41:12 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:12 UTC], ["updated_at", 2017-04-05 04:41:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (20.3ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 59ms (Views: 46.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.1ms)
OrderMailer#received: processed outbound mail in 15.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 11.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:13 UTC], ["updated_at", 2017-04-05 04:41:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:41:13 UTC], ["updated_at", 2017-04-05 04:41:13 UTC], ["price", #<BigDecimal:7fa9e53dafe0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (5.5ms)
  Rendered line_items/create.js.erb (7.2ms)
Completed 200 OK in 18ms (Views: 9.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:41:13 UTC], ["updated_at", 2017-04-05 04:41:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:41:13 UTC], ["updated_at", 2017-04-05 04:41:13 UTC], ["price", #<BigDecimal:7fa9e54329c0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.7ms)
  Rendered carts/_cart.html.erb (9.1ms)
Completed 200 OK in 35ms (Views: 32.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e4cf9398,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:41:13 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (7.0ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 32ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.1ms)
  Rendered products/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9dde49f60,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:41:13 UTC], ["updated_at", 2017-04-05 04:41:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.4ms)
  Rendered products/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:41:13 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:43:47.882798', '2017-04-05 04:43:47.882798')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:43:47.882798', '2017-04-05 04:43:47.882798', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:43:47.885227', '2017-04-05 04:43:47.885227', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:43:47.885227', '2017-04-05 04:43:47.885227', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:43:47.887703', '2017-04-05 04:43:47.887703', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:43:47.887703', '2017-04-05 04:43:47.887703', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:43:47.889951', '2017-04-05 04:43:47.889951', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:43:47.889951', '2017-04-05 04:43:47.889951', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:43:47.889951', '2017-04-05 04:43:47.889951', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:43:47.889951', '2017-04-05 04:43:47.889951', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (6.2ms)
  Rendered carts/new.html.erb within layouts/application (8.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.5ms)
Completed 200 OK in 249ms (Views: 240.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:48 UTC], ["updated_at", 2017-04-05 04:43:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:48 UTC], ["updated_at", 2017-04-05 04:43:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:43:48 UTC], ["updated_at", 2017-04-05 04:43:48 UTC], ["price", #<BigDecimal:7fa9e1674d68,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 1.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.1ms)
  Rendered carts/edit.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.5ms)
Completed 200 OK in 37ms (Views: 32.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.8ms)
  Rendered carts/show.html.erb within layouts/application (7.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (11.3ms)
  Rendered products/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e35755f0,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:43:48 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (8.1ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 37ms (ActiveRecord: 0.7ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9de8365f0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:43:48 UTC], ["updated_at", 2017-04-05 04:43:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:43:48 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.4ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.2ms)
OrderMailer#received: processed outbound mail in 18.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.6ms)
OrderMailer#shipped: processed outbound mail in 10.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC], ["price", #<BigDecimal:7fa9e4d26fc8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.6ms)
  Rendered carts/_cart.html.erb (8.3ms)
Completed 200 OK in 33ms (Views: 28.7ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC], ["price", #<BigDecimal:7fa9e4dd4c40,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.7ms)
  Rendered carts/_cart.html.erb (11.4ms)
  Rendered line_items/create.js.erb (14.1ms)
Completed 200 OK in 27ms (Views: 18.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.9ms)
  Rendered line_items/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 18ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC], ["price", #<BigDecimal:7fa9e4efc4b0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.2ms)
  Rendered orders/new.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.3ms)
  Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 0.7ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 692486d1-f787-4c6e-a20d-d3594e045001) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9ddfb5868 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 27ms (ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.6ms)
  Rendered orders/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:43:49.384779', '2017-04-05 04:43:49.384779')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:43:49.384779', '2017-04-05 04:43:49.384779', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:43:49.386593', '2017-04-05 04:43:49.386593', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:43:49.386593', '2017-04-05 04:43:49.386593', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:43:49.389187', '2017-04-05 04:43:49.389187', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:43:49.389187', '2017-04-05 04:43:49.389187', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:43:49.391437', '2017-04-05 04:43:49.391437', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:43:49.391437', '2017-04-05 04:43:49.391437', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:43:49.391437', '2017-04-05 04:43:49.391437', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:43:49.391437', '2017-04-05 04:43:49.391437', 110564781)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:43:49 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:43:49 UTC], ["updated_at", 2017-04-05 04:43:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 34ms (Views: 26.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:44:49.291380', '2017-04-05 04:44:49.291380')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:44:49.291380', '2017-04-05 04:44:49.291380', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:44:49.293959', '2017-04-05 04:44:49.293959', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:44:49.293959', '2017-04-05 04:44:49.293959', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:44:49.296251', '2017-04-05 04:44:49.296251', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:44:49.296251', '2017-04-05 04:44:49.296251', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:44:49.299235', '2017-04-05 04:44:49.299235', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:44:49.299235', '2017-04-05 04:44:49.299235', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:44:49.299235', '2017-04-05 04:44:49.299235', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:44:49.299235', '2017-04-05 04:44:49.299235', 110564781)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:44:49 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:49 UTC], ["updated_at", 2017-04-05 04:44:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:44:49 UTC], ["updated_at", 2017-04-05 04:44:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4ec351d9-2720-4560-8ab1-b6812f6b255f) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e02408d8 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 72ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:44:49 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (18.2ms)
  Rendered orders/edit.html.erb within layouts/application (21.5ms)
Completed 200 OK in 253ms (Views: 250.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC], ["price", #<BigDecimal:7fa9dcf151c0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 41ms (ActiveRecord: 1.2ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (10.8ms)
  Rendered orders/new.html.erb within layouts/application (12.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (9.3ms)
  Rendered carts/_cart.html.erb (13.0ms)
Completed 200 OK in 41ms (Views: 31.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.8ms)
OrderMailer#received: processed outbound mail in 14.2ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 10.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e54e4bc0,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:44:50 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.2ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 31ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (5.4ms)
  Rendered products/edit.html.erb within layouts/application (8.6ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9de950120,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (15.0ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 32ms (Views: 22.2ms | ActiveRecord: 4.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:44:50.541700', '2017-04-05 04:44:50.541700')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:44:50.541700', '2017-04-05 04:44:50.541700', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:44:50.543491', '2017-04-05 04:44:50.543491', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:44:50.543491', '2017-04-05 04:44:50.543491', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:44:50.544908', '2017-04-05 04:44:50.544908', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:44:50.544908', '2017-04-05 04:44:50.544908', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:44:50.546264', '2017-04-05 04:44:50.546264', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:44:50.546264', '2017-04-05 04:44:50.546264', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:44:50.546264', '2017-04-05 04:44:50.546264', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:44:50.546264', '2017-04-05 04:44:50.546264', 110564781)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (6.3ms)
  Rendered line_items/new.html.erb within layouts/application (8.8ms)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC], ["price", #<BigDecimal:7fa9e5b477d8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 27ms (Views: 24.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC], ["price", #<BigDecimal:7fa9ddad0668,'0.495E2',18(27)>]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (5.3ms)
  Rendered carts/_cart.html.erb (13.1ms)
  Rendered line_items/create.js.erb (18.0ms)
Completed 200 OK in 34ms (Views: 22.6ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.1ms)
  Rendered line_items/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 18ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
  Rendered carts/show.html.erb within layouts/application (3.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/new.html.erb within layouts/application (3.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:44:50 UTC], ["updated_at", 2017-04-05 04:44:50 UTC], ["price", #<BigDecimal:7fa9ddbe0f30,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:44:50 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:46:50.000088', '2017-04-05 04:46:50.000088')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:46:50.000088', '2017-04-05 04:46:50.000088', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:46:50.002474', '2017-04-05 04:46:50.002474', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:46:50.002474', '2017-04-05 04:46:50.002474', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:46:50.004731', '2017-04-05 04:46:50.004731', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:46:50.004731', '2017-04-05 04:46:50.004731', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:46:50.006526', '2017-04-05 04:46:50.006526', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:46:50.006526', '2017-04-05 04:46:50.006526', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:46:50.006526', '2017-04-05 04:46:50.006526', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:46:50.006526', '2017-04-05 04:46:50.006526', 110564781)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (14.8ms)
  Rendered line_items/new.html.erb within layouts/application (17.0ms)
Completed 200 OK in 234ms (Views: 225.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 20ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (22.5ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC], ["price", #<BigDecimal:7fa9e161ae58,'0.495E2',18(27)>]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (20.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.6ms)
  Rendered carts/_cart.html.erb (10.0ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC], ["price", #<BigDecimal:7fa9e0762668,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.3ms)
  Rendered carts/_cart.html.erb (10.0ms)
  Rendered line_items/create.js.erb (13.1ms)
Completed 200 OK in 33ms (Views: 19.0ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:46:50 UTC], ["updated_at", 2017-04-05 04:46:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 78917ada-bb89-47cb-9cc1-60945cea367e) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e345c740 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 56ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:46:50 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.9ms)
  Rendered orders/edit.html.erb within layouts/application (8.9ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC], ["price", #<BigDecimal:7fa9e40d1110,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.7ms)
  Rendered orders/new.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 29ms (Views: 21.3ms | ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:46:51.096787', '2017-04-05 04:46:51.096787')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:46:51.096787', '2017-04-05 04:46:51.096787', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:46:51.098734', '2017-04-05 04:46:51.098734', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:46:51.098734', '2017-04-05 04:46:51.098734', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:46:51.101218', '2017-04-05 04:46:51.101218', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:46:51.101218', '2017-04-05 04:46:51.101218', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:46:51.104862', '2017-04-05 04:46:51.104862', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:46:51.104862', '2017-04-05 04:46:51.104862', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:46:51.104862', '2017-04-05 04:46:51.104862', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:46:51.104862', '2017-04-05 04:46:51.104862', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (8.4ms)
  Rendered products/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9de9137c0,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:46:51 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (7.2ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 24ms (ActiveRecord: 0.8ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e31199c0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 24ms (Views: 18.7ms | ActiveRecord: 1.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.3ms)
OrderMailer#received: processed outbound mail in 13.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 10.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC], ["price", #<BigDecimal:7fa9dea63788,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/edit.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:46:51 UTC], ["updated_at", 2017-04-05 04:46:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:46:51 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (3.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:52:05.281834', '2017-04-05 04:52:05.281834')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:52:05.281834', '2017-04-05 04:52:05.281834', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:52:05.284977', '2017-04-05 04:52:05.284977', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:52:05.284977', '2017-04-05 04:52:05.284977', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:52:05.287735', '2017-04-05 04:52:05.287735', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:52:05.287735', '2017-04-05 04:52:05.287735', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:52:05.290038', '2017-04-05 04:52:05.290038', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:52:05.290038', '2017-04-05 04:52:05.290038', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:52:05.290038', '2017-04-05 04:52:05.290038', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:52:05.290038', '2017-04-05 04:52:05.290038', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (13.9ms)
OrderMailer#shipped: processed outbound mail in 30.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.5ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.4ms)
OrderMailer#received: processed outbound mail in 14.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:52:05 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:05 UTC], ["updated_at", 2017-04-05 04:52:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (167.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.7ms)
Completed 200 OK in 264ms (Views: 244.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (13.8ms)
  Rendered carts/new.html.erb within layouts/application (16.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (3.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC], ["price", #<BigDecimal:7fa9e2d5eda8,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 51ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.8ms)
  Rendered carts/show.html.erb within layouts/application (7.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC], ["price", #<BigDecimal:7fa9e2b64368,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.6ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (14.8ms)
  Rendered orders/new.html.erb within layouts/application (17.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.2ms)
  Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 39ms (Views: 32.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 819c1f1b-4918-4f5c-9785-33d205911783) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e324b050 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 22ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (9.0ms)
  Rendered orders/edit.html.erb within layouts/application (11.1ms)
Completed 200 OK in 22ms (Views: 18.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e15c6c18,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:52:06 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (8.2ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 37ms (ActiveRecord: 1.3ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e0777dd8,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.8ms)
  Rendered products/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC], ["price", #<BigDecimal:7fa9e1162bb8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 20ms (Views: 7.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:52:06 UTC], ["updated_at", 2017-04-05 04:52:06 UTC], ["price", #<BigDecimal:7fa9e32a6720,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.6ms)
  Rendered carts/_cart.html.erb (11.7ms)
  Rendered line_items/create.js.erb (13.9ms)
Completed 200 OK in 26ms (Views: 17.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:52:06 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:54:13.860602', '2017-04-05 04:54:13.860602')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:54:13.860602', '2017-04-05 04:54:13.860602', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:13.863807', '2017-04-05 04:54:13.863807', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:13.863807', '2017-04-05 04:54:13.863807', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:54:13.866459', '2017-04-05 04:54:13.866459', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:54:13.866459', '2017-04-05 04:54:13.866459', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:13.868674', '2017-04-05 04:54:13.868674', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:13.868674', '2017-04-05 04:54:13.868674', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:54:13.868674', '2017-04-05 04:54:13.868674', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:54:13.868674', '2017-04-05 04:54:13.868674', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 215ms (Views: 206.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (65.1ms)
  Rendered carts/show.html.erb within layouts/application (67.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 77ms (Views: 73.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC], ["price", #<BigDecimal:7fa9e14c2e70,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/edit.html.erb within layouts/application (3.2ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.3ms)
Completed 200 OK in 39ms (Views: 33.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (3.2ms)
  Rendered carts/new.html.erb within layouts/application (4.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (21.9ms)
  Rendered line_items/new.html.erb within layouts/application (23.1ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (7.4ms)
  Rendered line_items/edit.html.erb within layouts/application (11.1ms)
Completed 200 OK in 29ms (Views: 21.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC], ["price", #<BigDecimal:7fa9e17dff18,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.7ms)
  Rendered carts/_cart.html.erb (11.4ms)
  Rendered line_items/create.js.erb (15.1ms)
Completed 200 OK in 36ms (Views: 18.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC], ["price", #<BigDecimal:7fa9e3c30160,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (15.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 40ms (Views: 30.1ms | ActiveRecord: 2.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.7ms)
  Rendered line_items/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:54:14 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:54:14 UTC], ["updated_at", 2017-04-05 04:54:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: ba2fb71a-681b-4fde-bf69-4b3b8b03030c) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e4238120 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 55ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.2ms)
  Rendered orders/edit.html.erb within layouts/application (9.1ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:15 UTC], ["updated_at", 2017-04-05 04:54:15 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:15 UTC], ["updated_at", 2017-04-05 04:54:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:15 UTC], ["updated_at", 2017-04-05 04:54:15 UTC], ["price", #<BigDecimal:7fa9e42ba080,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.0ms)
  Rendered orders/new.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.9ms)
  Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 31ms (Views: 23.4ms | ActiveRecord: 0.8ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:54:15.171914', '2017-04-05 04:54:15.171914')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:54:15.171914', '2017-04-05 04:54:15.171914', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:15.178289', '2017-04-05 04:54:15.178289', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:15.178289', '2017-04-05 04:54:15.178289', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:54:15.182984', '2017-04-05 04:54:15.182984', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:54:15.182984', '2017-04-05 04:54:15.182984', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:15.184903', '2017-04-05 04:54:15.184903', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:15.184903', '2017-04-05 04:54:15.184903', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:54:15.184903', '2017-04-05 04:54:15.184903', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:54:15.184903', '2017-04-05 04:54:15.184903', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.3ms)
  Rendered products/edit.html.erb within layouts/application (9.3ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e418bb28,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:54:15 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.4ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 24ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 22ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e17c4f10,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:54:15 UTC], ["updated_at", 2017-04-05 04:54:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:15 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:15 UTC], ["updated_at", 2017-04-05 04:54:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (13.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 1.4ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.6ms)
OrderMailer#received: processed outbound mail in 15.2ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.5ms)
OrderMailer#shipped: processed outbound mail in 12.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:54:34.773822', '2017-04-05 04:54:34.773822')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:54:34.773822', '2017-04-05 04:54:34.773822', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:34.776695', '2017-04-05 04:54:34.776695', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:34.776695', '2017-04-05 04:54:34.776695', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:54:34.779001', '2017-04-05 04:54:34.779001', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:54:34.779001', '2017-04-05 04:54:34.779001', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:34.780798', '2017-04-05 04:54:34.780798', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:34.780798', '2017-04-05 04:54:34.780798', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:54:34.780798', '2017-04-05 04:54:34.780798', 207281424)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:54:34.780798', '2017-04-05 04:54:34.780798', 110564781)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 15ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (41.5ms)
  Rendered orders/edit.html.erb within layouts/application (45.7ms)
Completed 200 OK in 258ms (Views: 256.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:35 UTC], ["updated_at", 2017-04-05 04:54:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:54:35 UTC], ["updated_at", 2017-04-05 04:54:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 5bb91bd2-3744-4a6f-bea9-6d7c5fcebb32) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e39bbb28 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 51ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:35 UTC], ["updated_at", 2017-04-05 04:54:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:35 UTC], ["updated_at", 2017-04-05 04:54:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:35 UTC], ["updated_at", 2017-04-05 04:54:35 UTC], ["price", #<BigDecimal:7fa9e06fae50,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 37ms (ActiveRecord: 2.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.9ms)
  Rendered orders/new.html.erb within layouts/application (4.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (7.0ms)
  Rendered carts/_cart.html.erb (10.4ms)
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:54:35.822429', '2017-04-05 04:54:35.822429')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:54:35.822429', '2017-04-05 04:54:35.822429', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:35.825771', '2017-04-05 04:54:35.825771', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:35.825771', '2017-04-05 04:54:35.825771', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:54:35.827245', '2017-04-05 04:54:35.827245', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:54:35.827245', '2017-04-05 04:54:35.827245', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:35.828722', '2017-04-05 04:54:35.828722', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:35.828722', '2017-04-05 04:54:35.828722', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:54:35.828722', '2017-04-05 04:54:35.828722', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:54:35.828722', '2017-04-05 04:54:35.828722', 110564781)[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 21ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (16.0ms)
  Rendered products/edit.html.erb within layouts/application (24.9ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:35 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e1488d38,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:54:35 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (12.0ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 40ms (ActiveRecord: 0.8ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (7.1ms)
  Rendered products/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e405a290,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 32ms (Views: 29.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 12.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.5ms)
OrderMailer#received: processed outbound mail in 13.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.5ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (15.8ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC], ["price", #<BigDecimal:7fa9e017b2b8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (12.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.8ms)
Completed 200 OK in 28ms (Views: 23.1ms | ActiveRecord: 0.7ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC], ["price", #<BigDecimal:7fa9e603b870,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.8ms)
  Rendered line_items/create.js.erb (8.2ms)
Completed 200 OK in 20ms (Views: 10.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (3.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (4.1ms)
  Rendered carts/edit.html.erb within layouts/application (12.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.7ms)
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC], ["price", #<BigDecimal:7fa9e5c56a48,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:36 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:36 UTC], ["updated_at", 2017-04-05 04:54:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.3ms)
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.1ms)
Completed 200 OK in 39ms (Views: 27.0ms | ActiveRecord: 2.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:54:48.758934', '2017-04-05 04:54:48.758934')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:54:48.758934', '2017-04-05 04:54:48.758934', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:48.762228', '2017-04-05 04:54:48.762228', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:54:48.762228', '2017-04-05 04:54:48.762228', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:54:48.764978', '2017-04-05 04:54:48.764978', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:54:48.764978', '2017-04-05 04:54:48.764978', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:48.766925', '2017-04-05 04:54:48.766925', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:54:48.766925', '2017-04-05 04:54:48.766925', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:54:48.766925', '2017-04-05 04:54:48.766925', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:54:48.766925', '2017-04-05 04:54:48.766925', 110564781)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (201.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 285ms (Views: 267.0ms | ActiveRecord: 1.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.3ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.9ms)
OrderMailer#received: processed outbound mail in 15.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 10.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (6.7ms)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC], ["price", #<BigDecimal:7fa9e39ac808,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.0ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.9ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (12.6ms)
  Rendered line_items/edit.html.erb within layouts/application (14.3ms)
Completed 200 OK in 27ms (Views: 20.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC], ["price", #<BigDecimal:7fa9e3e30348,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.6ms)
  Rendered carts/_cart.html.erb (7.2ms)
  Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 22ms (Views: 13.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (9.5ms)
  Rendered carts/show.html.erb within layouts/application (11.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (6.1ms)
  Rendered carts/new.html.erb within layouts/application (9.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:49 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:49 UTC], ["updated_at", 2017-04-05 04:54:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC], ["price", #<BigDecimal:7fa9deb00060,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.6ms)
  Rendered products/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e5820848,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e5850840,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:54:50 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (15.5ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 46ms (ActiveRecord: 1.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.9ms)
  Rendered orders/edit.html.erb within layouts/application (8.7ms)
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9f30635b-d5d0-4b13-a755-49783383a9f1) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e58d1008 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 33ms (ActiveRecord: 4.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (1.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:54:50 UTC], ["updated_at", 2017-04-05 04:54:50 UTC], ["price", #<BigDecimal:7fa9e60d2f40,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 3.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (12.3ms)
  Rendered orders/new.html.erb within layouts/application (13.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:54:50 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:55:28.474522', '2017-04-05 04:55:28.474522')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:55:28.474522', '2017-04-05 04:55:28.474522', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:55:28.477044', '2017-04-05 04:55:28.477044', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:55:28.477044', '2017-04-05 04:55:28.477044', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:55:28.479496', '2017-04-05 04:55:28.479496', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:55:28.479496', '2017-04-05 04:55:28.479496', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:55:28.481434', '2017-04-05 04:55:28.481434', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:55:28.481434', '2017-04-05 04:55:28.481434', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:55:28.481434', '2017-04-05 04:55:28.481434', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:55:28.481434', '2017-04-05 04:55:28.481434', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (1.0ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (9.0ms)
OrderMailer#received: processed outbound mail in 25.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 10.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (4.6ms)
  Rendered carts/edit.html.erb within layouts/application (6.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.4ms)
Completed 200 OK in 200ms (Views: 191.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.1ms)
  Rendered carts/show.html.erb within layouts/application (7.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC], ["price", #<BigDecimal:7fa9e334a3e8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.9ms)
  Rendered carts/new.html.erb within layouts/application (4.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC], ["price", #<BigDecimal:7fa9e33b2498,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (9.2ms)
  Rendered carts/_cart.html.erb (15.1ms)
  Rendered line_items/create.js.erb (18.8ms)
Completed 200 OK in 35ms (Views: 21.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (14.5ms)
  Rendered line_items/edit.html.erb within layouts/application (16.9ms)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.6ms)
  Rendered line_items/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC], ["price", #<BigDecimal:7fa9e2d1f770,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (19.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.1ms)
  Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (9.1ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 28ms (Views: 21.4ms | ActiveRecord: 1.3ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.7ms)
  Rendered products/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e2ba9c88,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e2b2a550,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:55:29 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.5ms)
  Rendered products/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC], ["price", #<BigDecimal:7fa9de952b28,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.2ms)
  Rendered orders/new.html.erb within layouts/application (6.2ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.8ms)
  Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 27ms (Views: 23.1ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.3ms)
  Rendered orders/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:55:29 UTC], ["updated_at", 2017-04-05 04:55:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 20ab0dc7-4d57-4736-ae5f-d77b7b78dde9) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e50286b8 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 19ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:55:29 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:56:14.988712', '2017-04-05 04:56:14.988712')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:56:14.988712', '2017-04-05 04:56:14.988712', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:56:14.991483', '2017-04-05 04:56:14.991483', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:56:14.991483', '2017-04-05 04:56:14.991483', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:56:14.994456', '2017-04-05 04:56:14.994456', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:56:14.994456', '2017-04-05 04:56:14.994456', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:56:14.996809', '2017-04-05 04:56:14.996809', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:56:14.996809', '2017-04-05 04:56:14.996809', 298486374)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:56:14.996809', '2017-04-05 04:56:14.996809', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:56:14.996809', '2017-04-05 04:56:14.996809', 110564781)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 34ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 25ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 214ms (Views: 212.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: b173f879-1440-4f2d-a0dd-ac8a82cf1d07) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e34f08a0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 49ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (21.8ms)
  Rendered orders/edit.html.erb within layouts/application (23.6ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC], ["price", #<BigDecimal:7fa9e417ec20,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 1.3ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.4ms)
  Rendered orders/new.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (6.2ms)
  Rendered carts/_cart.html.erb (9.7ms)
Completed 200 OK in 28ms (Views: 22.2ms | ActiveRecord: 0.5ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:56:15.867990', '2017-04-05 04:56:15.867990')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:56:15.867990', '2017-04-05 04:56:15.867990', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:56:15.869963', '2017-04-05 04:56:15.869963', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:56:15.869963', '2017-04-05 04:56:15.869963', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:56:15.871490', '2017-04-05 04:56:15.871490', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:56:15.871490', '2017-04-05 04:56:15.871490', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:56:15.872965', '2017-04-05 04:56:15.872965', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:56:15.872965', '2017-04-05 04:56:15.872965', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:56:15.872965', '2017-04-05 04:56:15.872965', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:56:15.872965', '2017-04-05 04:56:15.872965', 110564781)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e3605df8,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:56:15 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (9.7ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 29ms (ActiveRecord: 0.9ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (5.9ms)
  Rendered products/edit.html.erb within layouts/application (8.7ms)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e06b9180,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:56:15 UTC], ["updated_at", 2017-04-05 04:56:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:56:15 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (3.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.1ms)
  Rendered carts/show.html.erb within layouts/application (3.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC], ["price", #<BigDecimal:7fa9e41e7130,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/edit.html.erb within layouts/application (4.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC], ["price", #<BigDecimal:7fa9de8602b0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.4ms)
  Rendered carts/_cart.html.erb (10.0ms)
  Rendered line_items/create.js.erb (11.9ms)
Completed 200 OK in 26ms (Views: 14.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.6ms)
  Rendered line_items/edit.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC], ["price", #<BigDecimal:7fa9e3058dd8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 29ms (Views: 22.9ms | ActiveRecord: 1.3ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.7ms)
  Rendered line_items/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:56:16 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:56:16 UTC], ["updated_at", 2017-04-05 04:56:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (22.7ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 43ms (Views: 35.5ms | ActiveRecord: 1.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.6ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.8ms)
OrderMailer#received: processed outbound mail in 16.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (2.2ms)
OrderMailer#shipped: processed outbound mail in 11.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:58:44.973999', '2017-04-05 04:58:44.973999')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:58:44.973999', '2017-04-05 04:58:44.973999', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:58:44.977253', '2017-04-05 04:58:44.977253', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:58:44.977253', '2017-04-05 04:58:44.977253', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:58:44.979711', '2017-04-05 04:58:44.979711', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:58:44.979711', '2017-04-05 04:58:44.979711', 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:58:44.981654', '2017-04-05 04:58:44.981654', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:58:44.981654', '2017-04-05 04:58:44.981654', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:58:44.981654', '2017-04-05 04:58:44.981654', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:58:44.981654', '2017-04-05 04:58:44.981654', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (1.4ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (9.8ms)
OrderMailer#received: processed outbound mail in 26.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.7ms)
OrderMailer#shipped: processed outbound mail in 12.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 203ms (Views: 199.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e16951f8,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 04:58:45 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (20.8ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 41ms (ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (14.7ms)
  Rendered products/new.html.erb within layouts/application (16.3ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fa9e2bc13b0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 04:58:45 UTC], ["updated_at", 2017-04-05 04:58:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.7ms)
  Rendered products/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.7ms)
  Rendered orders/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:58:45 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC], ["price", #<BigDecimal:7fa9e1724e70,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 1.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.7ms)
  Rendered orders/new.html.erb within layouts/application (4.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.4ms)
  Rendered carts/_cart.html.erb (7.9ms)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 393e08d7-98a3-4310-9f9f-b614bd3593a5) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fa9e2c80530 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 42ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 04:58:46.160381', '2017-04-05 04:58:46.160381')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 04:58:46.160381', '2017-04-05 04:58:46.160381', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:58:46.164142', '2017-04-05 04:58:46.164142', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 04:58:46.164142', '2017-04-05 04:58:46.164142', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 04:58:46.166404', '2017-04-05 04:58:46.166404', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 04:58:46.166404', '2017-04-05 04:58:46.166404', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:58:46.168135', '2017-04-05 04:58:46.168135', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 04:58:46.168135', '2017-04-05 04:58:46.168135', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 04:58:46.168135', '2017-04-05 04:58:46.168135', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 04:58:46.168135', '2017-04-05 04:58:46.168135', 110564781)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC], ["price", #<BigDecimal:7fa9e30eff58,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (3.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/edit.html.erb within layouts/application (2.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC], ["price", #<BigDecimal:7fa9e3226958,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.4ms)
  Rendered carts/_cart.html.erb (8.6ms)
  Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 22ms (Views: 13.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC], ["price", #<BigDecimal:7fa9e3cde1c0,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.2ms)
  Rendered carts/_cart.html.erb (7.0ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 1.2ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-05 16:58:46 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 04:58:46 UTC], ["updated_at", 2017-04-05 04:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 20:55:41.108687', '2017-04-05 20:55:41.108687')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 20:55:41.108687', '2017-04-05 20:55:41.108687', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 20:55:41.112644', '2017-04-05 20:55:41.112644', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 20:55:41.112644', '2017-04-05 20:55:41.112644', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 20:55:41.115130', '2017-04-05 20:55:41.115130', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 20:55:41.115130', '2017-04-05 20:55:41.115130', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 20:55:41.117711', '2017-04-05 20:55:41.117711', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 20:55:41.117711', '2017-04-05 20:55:41.117711', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 20:55:41.117711', '2017-04-05 20:55:41.117711', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 20:55:41.117711', '2017-04-05 20:55:41.117711', 110564781)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:41 UTC], ["updated_at", 2017-04-05 20:55:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:41 UTC], ["updated_at", 2017-04-05 20:55:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 20:55:41 UTC], ["updated_at", 2017-04-05 20:55:41 UTC], ["price", #<BigDecimal:7fc1bc841d60,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 40ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 243ms (Views: 240.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (5.9ms)
  Rendered carts/new.html.erb within layouts/application (7.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (4.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 08:55:41 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.2ms)
  Rendered carts/edit.html.erb within layouts/application (4.0ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.3ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.html.erb within layouts/mailer
  Rendered order_mailer/received.html.erb within layouts/mailer (0.4ms)
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.9ms)
OrderMailer#received: processed outbound mail in 19.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 11.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (10.0ms)
  Rendered line_items/new.html.erb within layouts/application (11.6ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC], ["price", #<BigDecimal:7fc1ba9daa70,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.1ms)
  Rendered carts/_cart.html.erb (16.7ms)
  Rendered line_items/create.js.erb (22.5ms)
Completed 200 OK in 36ms (Views: 26.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC], ["price", #<BigDecimal:7fc1baa576d8,'0.495E2',18(27)>]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 30ms (Views: 26.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (9.0ms)
  Rendered orders/edit.html.erb within layouts/application (17.4ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC], ["price", #<BigDecimal:7fc1c281aca0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.4ms)
  Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (4.9ms)
Completed 200 OK in 27ms (Views: 20.6ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 7fdb0eae-5364-406c-b5e0-576d27c7727e) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fc1bab25da8 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 30ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 20:55:42.631684', '2017-04-05 20:55:42.631684')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 20:55:42.631684', '2017-04-05 20:55:42.631684', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 20:55:42.634058', '2017-04-05 20:55:42.634058', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 20:55:42.634058', '2017-04-05 20:55:42.634058', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 20:55:42.635906', '2017-04-05 20:55:42.635906', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 20:55:42.635906', '2017-04-05 20:55:42.635906', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 20:55:42.640287', '2017-04-05 20:55:42.640287', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 20:55:42.640287', '2017-04-05 20:55:42.640287', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 20:55:42.640287', '2017-04-05 20:55:42.640287', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 20:55:42.640287', '2017-04-05 20:55:42.640287', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (23.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 48ms (Views: 36.4ms | ActiveRecord: 1.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (6.1ms)
  Rendered products/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fc1c29a4be8,'0.1995E2',18(27)>], ["created_at", 2017-04-05 20:55:42 UTC], ["updated_at", 2017-04-05 20:55:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fc1bb6310f8,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 20:55:42 UTC], ["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (17.4ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 61ms (ActiveRecord: 1.7ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.7ms)
  Rendered products/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 08:55:42 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:21:49.308431', '2017-04-05 22:21:49.308431')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:21:49.308431', '2017-04-05 22:21:49.308431', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:21:49.310594', '2017-04-05 22:21:49.310594', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:21:49.310594', '2017-04-05 22:21:49.310594', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:21:49.312364', '2017-04-05 22:21:49.312364', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:21:49.312364', '2017-04-05 22:21:49.312364', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:21:49.314186', '2017-04-05 22:21:49.314186', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:21:49.314186', '2017-04-05 22:21:49.314186', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:21:49.314186', '2017-04-05 22:21:49.314186', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:21:49.314186', '2017-04-05 22:21:49.314186', 110564781)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:49 UTC], ["updated_at", 2017-04-05 22:21:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:21:49 UTC], ["updated_at", 2017-04-05 22:21:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 166f3803-525a-4e06-9dbf-ff114f12af41) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecca2eb648 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 49ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 233ms (Views: 231.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:21:49 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:49 UTC], ["updated_at", 2017-04-05 22:21:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (30.5ms)
  Rendered orders/edit.html.erb within layouts/application (32.3ms)
Completed 200 OK in 39ms (Views: 36.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC], ["price", #<BigDecimal:7fecce450868,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.9ms)
  Rendered orders/new.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (10.2ms)
  Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:21:50.134822', '2017-04-05 22:21:50.134822')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:21:50.134822', '2017-04-05 22:21:50.134822', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:21:50.137037', '2017-04-05 22:21:50.137037', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:21:50.137037', '2017-04-05 22:21:50.137037', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:21:50.139111', '2017-04-05 22:21:50.139111', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:21:50.139111', '2017-04-05 22:21:50.139111', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:21:50.140863', '2017-04-05 22:21:50.140863', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:21:50.140863', '2017-04-05 22:21:50.140863', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:21:50.140863', '2017-04-05 22:21:50.140863', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:21:50.140863', '2017-04-05 22:21:50.140863', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.7ms)
  Rendered line_items/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC], ["price", #<BigDecimal:7feccf3340f0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.9ms)
  Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 16ms (Views: 8.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC], ["price", #<BigDecimal:7fecc9713960,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (4.5ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.0ms)
  Rendered products/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.2ms)
  Rendered products/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7feccf080c78,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:21:50 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecce3e8ce0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (3.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:21:50 UTC], ["updated_at", 2017-04-05 22:21:50 UTC], ["price", #<BigDecimal:7fecca644600,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:21:50 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.7ms)
OrderMailer#received: processed outbound mail in 11.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 12.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:22:55.641011', '2017-04-05 22:22:55.641011')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:22:55.641011', '2017-04-05 22:22:55.641011', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:22:55.643477', '2017-04-05 22:22:55.643477', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:22:55.643477', '2017-04-05 22:22:55.643477', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:22:55.646101', '2017-04-05 22:22:55.646101', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:22:55.646101', '2017-04-05 22:22:55.646101', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:22:55.647904', '2017-04-05 22:22:55.647904', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:22:55.647904', '2017-04-05 22:22:55.647904', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:22:55.647904', '2017-04-05 22:22:55.647904', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:22:55.647904', '2017-04-05 22:22:55.647904', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:22:55 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 27ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (186.7ms)
Completed 200 OK in 233ms (Views: 231.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7feccf031088,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:22:56 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (13.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 35ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecce6d7320,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (9.7ms)
  Rendered products/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.3ms)
  Rendered products/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC], ["price", #<BigDecimal:7fecce7cf638,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered carts/show.html.erb within layouts/application (3.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC], ["price", #<BigDecimal:7fecca5de5d0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC], ["price", #<BigDecimal:7fecca16a170,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.5ms)
Completed 200 OK in 43ms (Views: 20.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (3.2ms)
OrderMailer#shipped: processed outbound mail in 13.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.4ms)
OrderMailer#received: processed outbound mail in 11.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.7ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: ef9c2390-c4bf-40fb-940d-6cd9652bf078) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007feccfa7ce70 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.0ms)
  Rendered orders/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC], ["price", #<BigDecimal:7feccfb46298,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.2ms)
  Rendered orders/new.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:22:56 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:22:56 UTC], ["updated_at", 2017-04-05 22:22:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:22:56.988908', '2017-04-05 22:22:56.988908')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:22:56.988908', '2017-04-05 22:22:56.988908', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:22:56.990275', '2017-04-05 22:22:56.990275', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:22:56.990275', '2017-04-05 22:22:56.990275', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:22:56.991395', '2017-04-05 22:22:56.991395', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:22:56.991395', '2017-04-05 22:22:56.991395', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:22:56.992516', '2017-04-05 22:22:56.992516', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:22:56.992516', '2017-04-05 22:22:56.992516', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:22:56.992516', '2017-04-05 22:22:56.992516', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:22:56.992516', '2017-04-05 22:22:56.992516', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:23:56.939849', '2017-04-05 22:23:56.939849')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:23:56.939849', '2017-04-05 22:23:56.939849', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:23:56.942572', '2017-04-05 22:23:56.942572', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:23:56.942572', '2017-04-05 22:23:56.942572', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:23:56.944492', '2017-04-05 22:23:56.944492', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:23:56.944492', '2017-04-05 22:23:56.944492', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:23:56.946209', '2017-04-05 22:23:56.946209', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:23:56.946209', '2017-04-05 22:23:56.946209', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:23:56.946209', '2017-04-05 22:23:56.946209', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:23:56.946209', '2017-04-05 22:23:56.946209', 110564781)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (11.1ms)
OrderMailer#received: processed outbound mail in 23.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 11.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 21ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecc9adbd18,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:23:57 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (157.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 175ms (ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (11.7ms)
  Rendered products/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 64ms (Views: 62.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7feccde1b538,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 28ms (Views: 20.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.8ms)
  Rendered orders/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 09ae1003-997e-4111-a545-39e5fb414baa) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecce602328 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 21ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:23:57 UTC], ["updated_at", 2017-04-05 22:23:57 UTC], ["price", #<BigDecimal:7fecce6c2740,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.8ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/new.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.1ms)
  Rendered carts/_cart.html.erb (6.1ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:23:57 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:23:57.992583', '2017-04-05 22:23:57.992583')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:23:57.992583', '2017-04-05 22:23:57.992583', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:23:57.994131', '2017-04-05 22:23:57.994131', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:23:57.994131', '2017-04-05 22:23:57.994131', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:23:57.995452', '2017-04-05 22:23:57.995452', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:23:57.995452', '2017-04-05 22:23:57.995452', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:23:57.997039', '2017-04-05 22:23:57.997039', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:23:57.997039', '2017-04-05 22:23:57.997039', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:23:57.997039', '2017-04-05 22:23:57.997039', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:23:57.997039', '2017-04-05 22:23:57.997039', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:23:58 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:23:58 UTC], ["updated_at", 2017-04-05 22:23:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.8ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:23:58 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:23:58 UTC], ["updated_at", 2017-04-05 22:23:58 UTC], ["price", #<BigDecimal:7fecce830c30,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.9ms)
  Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:23:58 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/new.html.erb within layouts/application (3.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.4ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:23:58 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 22:23:58 UTC], ["updated_at", 2017-04-05 22:23:58 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 22:23:58 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecce2388c8 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311]   Rendered order_mailer/received.text.erb within layouts/mailer (3.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311] OrderMailer#received: processed outbound mail in 13.2ms
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311] Sent mail to dave@example.com (2891.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311] Date: Thu, 06 Apr 2017 10:23:58 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e56e7e14d4d_9c93ff66443f96462696@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [4bbb9471-f100-4acb-b382-b65828d53311] Performed ActionMailer::DeliveryJob from Test(mailers) in 2905.58ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4bbb9471-f100-4acb-b382-b65828d53311) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecce278608 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/orders/980190963
Completed 302 Found in 2918ms (ActiveRecord: 0.9ms)
Started GET "/orders/980190963" for 127.0.0.1 at 2017-04-06 10:24:00 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:24:00 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (3.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC], ["price", #<BigDecimal:7fecceaaff10,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (3.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.1ms)
  Rendered line_items/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC], ["price", #<BigDecimal:7fecd10399c0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:24:01 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:24:01 UTC], ["updated_at", 2017-04-05 22:24:01 UTC], ["price", #<BigDecimal:7fecd1828230,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (6.0ms)
  Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:25:12.766444', '2017-04-05 22:25:12.766444')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:25:12.766444', '2017-04-05 22:25:12.766444', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:25:12.768729', '2017-04-05 22:25:12.768729', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:25:12.768729', '2017-04-05 22:25:12.768729', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:25:12.770548', '2017-04-05 22:25:12.770548', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:25:12.770548', '2017-04-05 22:25:12.770548', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:25:12.772281', '2017-04-05 22:25:12.772281', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:25:12.772281', '2017-04-05 22:25:12.772281', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:25:12.772281', '2017-04-05 22:25:12.772281', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:25:12.772281', '2017-04-05 22:25:12.772281', 110564781)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 218ms (Views: 207.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 30ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecca62d630,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecce0392e8,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:25:13 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (25.5ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 46ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (18.3ms)
  Rendered products/edit.html.erb within layouts/application (20.1ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.3ms)
OrderMailer#received: processed outbound mail in 13.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.6ms)
OrderMailer#shipped: processed outbound mail in 11.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC], ["price", #<BigDecimal:7fecd1299918,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.5ms)
  Rendered orders/new.html.erb within layouts/application (4.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.2ms)
  Rendered carts/_cart.html.erb (7.2ms)
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.4ms)
  Rendered orders/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: edd4c2c4-4b32-4b78-86b6-e94f5e18be67) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecd140ac70 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:25:13.793049', '2017-04-05 22:25:13.793049')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:25:13.793049', '2017-04-05 22:25:13.793049', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:25:13.795586', '2017-04-05 22:25:13.795586', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:25:13.795586', '2017-04-05 22:25:13.795586', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:25:13.798130', '2017-04-05 22:25:13.798130', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:25:13.798130', '2017-04-05 22:25:13.798130', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:25:13.799595', '2017-04-05 22:25:13.799595', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:25:13.799595', '2017-04-05 22:25:13.799595', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:25:13.799595', '2017-04-05 22:25:13.799595', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:25:13.799595', '2017-04-05 22:25:13.799595', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC], ["price", #<BigDecimal:7feccfa72df8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.5ms)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC], ["price", #<BigDecimal:7feccf5cb548,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.9ms)
  Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 17ms (Views: 10.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:25:13 UTC], ["updated_at", 2017-04-05 22:25:13 UTC], ["price", #<BigDecimal:7fecd167a190,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (3.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:25:13 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:14 UTC], ["updated_at", 2017-04-05 22:25:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (3.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:14 UTC], ["updated_at", 2017-04-05 22:25:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:14 UTC], ["updated_at", 2017-04-05 22:25:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.7ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:25:14 UTC], ["updated_at", 2017-04-05 22:25:14 UTC], ["price", #<BigDecimal:7fecd2983980,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (6.3ms)
  Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 20ms (Views: 11.5ms | ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.2ms)
  Rendered orders/new.html.erb within layouts/application (3.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.4ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:25:14 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 22:25:14 UTC], ["updated_at", 2017-04-05 22:25:14 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 22:25:14 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007feccfbc3db0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b]   Rendered order_mailer/received.text.erb within layouts/mailer (3.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b] OrderMailer#received: processed outbound mail in 13.6ms
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b] Sent mail to dave@example.com (1900.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b] Date: Thu, 06 Apr 2017 10:25:14 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e56eca26eb1_9ec3ff66443f96483686@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [f8926cb9-b0db-4fe0-8bdc-6496f5b4421b] Performed ActionMailer::DeliveryJob from Test(mailers) in 1915.49ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f8926cb9-b0db-4fe0-8bdc-6496f5b4421b) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007feccfc0b318 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1930ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 10:25:16 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:25:16 UTC], ["updated_at", 2017-04-05 22:25:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:29:27.063682', '2017-04-05 22:29:27.063682')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:29:27.063682', '2017-04-05 22:29:27.063682', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:29:27.065972', '2017-04-05 22:29:27.065972', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:29:27.065972', '2017-04-05 22:29:27.065972', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:29:27.069175', '2017-04-05 22:29:27.069175', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:29:27.069175', '2017-04-05 22:29:27.069175', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:29:27.073086', '2017-04-05 22:29:27.073086', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:29:27.073086', '2017-04-05 22:29:27.073086', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:29:27.073086', '2017-04-05 22:29:27.073086', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:29:27.073086', '2017-04-05 22:29:27.073086', 110564781)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 26ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 202ms (Views: 200.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (12.4ms)
  Rendered orders/edit.html.erb within layouts/application (14.0ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC], ["price", #<BigDecimal:7fecce5da058,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.0ms)
  Rendered orders/new.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (6.2ms)
  Rendered carts/_cart.html.erb (9.8ms)
Completed 200 OK in 26ms (Views: 17.6ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 7c26d21a-b5b9-47a1-a61c-421881b36359) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007feccf4421b8 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:29:27.829641', '2017-04-05 22:29:27.829641')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:29:27.829641', '2017-04-05 22:29:27.829641', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:29:27.831254', '2017-04-05 22:29:27.831254', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:29:27.831254', '2017-04-05 22:29:27.831254', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:29:27.832634', '2017-04-05 22:29:27.832634', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:29:27.832634', '2017-04-05 22:29:27.832634', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:29:27.834130', '2017-04-05 22:29:27.834130', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:29:27.834130', '2017-04-05 22:29:27.834130', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:29:27.834130', '2017-04-05 22:29:27.834130', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:29:27.834130', '2017-04-05 22:29:27.834130', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.8ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC], ["price", #<BigDecimal:7fecce0112c0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (5.3ms)
  Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.0ms)
  Rendered orders/new.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (4.4ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 0.6ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:29:27 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 22:29:27 UTC], ["updated_at", 2017-04-05 22:29:27 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 22:29:27 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecc9cdbc80 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90]   Rendered order_mailer/received.text.erb within layouts/mailer (4.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90] OrderMailer#received: processed outbound mail in 193.5ms
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90] Sent mail to dave@example.com (2058.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90] Date: Thu, 06 Apr 2017 10:29:28 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e56fc81ca0a_a2a3ff66443f96498659@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [9cae2d36-0cc1-4007-abc6-6cc066f39c90] Performed ActionMailer::DeliveryJob from Test(mailers) in 2253.07ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9cae2d36-0cc1-4007-abc6-6cc066f39c90) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecc959d7c0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2269ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 11.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.3ms)
OrderMailer#received: processed outbound mail in 13.2ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
  Rendered carts/show.html.erb within layouts/application (3.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/edit.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC], ["price", #<BigDecimal:7feccfc201f0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecd129a368,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecd134a290,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:29:30 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC], ["price", #<BigDecimal:7fecd1489908,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (3.8ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:29:30 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:29:30 UTC], ["updated_at", 2017-04-05 22:29:30 UTC], ["price", #<BigDecimal:7fecd1f85168,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.8ms)
  Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:43:39.841398', '2017-04-05 22:43:39.841398')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:43:39.841398', '2017-04-05 22:43:39.841398', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:43:39.843658', '2017-04-05 22:43:39.843658', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:43:39.843658', '2017-04-05 22:43:39.843658', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:43:39.845582', '2017-04-05 22:43:39.845582', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:43:39.845582', '2017-04-05 22:43:39.845582', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:43:39.847279', '2017-04-05 22:43:39.847279', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:43:39.847279', '2017-04-05 22:43:39.847279', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:43:39.847279', '2017-04-05 22:43:39.847279', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:43:39.847279', '2017-04-05 22:43:39.847279', 110564781)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecc9ae05c0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 20ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 197ms (Views: 193.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (10.5ms)
  Rendered products/edit.html.erb within layouts/application (11.9ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.8ms)
  Rendered products/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fecce8924d0,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 22:43:40 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (8.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 23ms (ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.8ms)
  Rendered orders/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 888d3e68-7670-4be2-bccd-c53a8ff20e53) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecc9deac48 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC], ["price", #<BigDecimal:7fecc8a766a8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.3ms)
  Rendered orders/new.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.4ms)
  Rendered carts/_cart.html.erb (7.7ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 22:43:40.698015', '2017-04-05 22:43:40.698015')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 22:43:40.698015', '2017-04-05 22:43:40.698015', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:43:40.699946', '2017-04-05 22:43:40.699946', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 22:43:40.699946', '2017-04-05 22:43:40.699946', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 22:43:40.701823', '2017-04-05 22:43:40.701823', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 22:43:40.701823', '2017-04-05 22:43:40.701823', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:43:40.703785', '2017-04-05 22:43:40.703785', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 22:43:40.703785', '2017-04-05 22:43:40.703785', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 22:43:40.703785', '2017-04-05 22:43:40.703785', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 22:43:40.703785', '2017-04-05 22:43:40.703785', 110564781)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.5ms)
OrderMailer#received: processed outbound mail in 11.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 10.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC], ["price", #<BigDecimal:7fecca79adb0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.4ms)
  Rendered carts/_cart.html.erb (3.6ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:43:40 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:43:40 UTC], ["updated_at", 2017-04-05 22:43:40 UTC], ["price", #<BigDecimal:7fecca7e3240,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (5.2ms)
  Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC], ["price", #<BigDecimal:7fecd1c109b0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.6ms)
  Rendered carts/show.html.erb within layouts/application (3.8ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.6ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC], ["price", #<BigDecimal:7fecd1d31880,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (4.7ms)
  Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.8ms)
  Rendered orders/new.html.erb within layouts/application (3.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 10:43:41 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 22:43:41 UTC], ["updated_at", 2017-04-05 22:43:41 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 22:43:41 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecd2808d58 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7]   Rendered order_mailer/received.text.erb within layouts/mailer (3.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7] OrderMailer#received: processed outbound mail in 12.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7] Sent mail to dave@example.com (1944.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7] Date: Thu, 06 Apr 2017 10:43:41 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5731d2ea3c_abc3ff66443f96425524@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7] Performed ActionMailer::DeliveryJob from Test(mailers) in 1957.73ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f5fdd93e-7cd5-4f6d-aa47-a1dea38012c7) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fecd17e7e10 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1970ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 10:43:43 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 22:43:43 UTC], ["updated_at", 2017-04-05 22:43:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "quantity" integer DEFAULT 1, "price" decimal(8,2), "order_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_line_items_on_cart_id' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "ship_date" date)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170405230416)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170403031202),
(20170403220256),
(20170403222501),
(20170403232055),
(20170403233417),
(20170404021013),
(20170405013231),
(20170405013308),
(20170405224939);

[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2017-04-05 23:21:28 UTC], ["updated_at", 2017-04-05 23:21:28 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:21:28.281207', '2017-04-05 23:21:28.281207')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:21:28.281207', '2017-04-05 23:21:28.281207', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:21:28.284142', '2017-04-05 23:21:28.284142', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:21:28.284142', '2017-04-05 23:21:28.284142', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 23:21:28.287635', '2017-04-05 23:21:28.287635', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 23:21:28.287635', '2017-04-05 23:21:28.287635', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:21:28.290137', '2017-04-05 23:21:28.290137', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:21:28.290137', '2017-04-05 23:21:28.290137', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:21:28.290137', '2017-04-05 23:21:28.290137', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:21:28.290137', '2017-04-05 23:21:28.290137', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$P5hCg5TJUFdSWeDa2LlZ2OMAfh3GvPAXBa4iGHctd6zLl5LIyqCi.', '2017-04-05 23:21:28.292636', '2017-04-05 23:21:28.292636', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$nV30iIEX1r5lh0KnoL4Zn.h8IvDLPxjWcimRZDI8A9LH1XBa7pVTW', '2017-04-05 23:21:28.292636', '2017-04-05 23:21:28.292636', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:21:28 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:28 UTC], ["updated_at", 2017-04-05 23:21:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:21:28 UTC], ["updated_at", 2017-04-05 23:21:28 UTC], ["price", #<BigDecimal:7fe57348f9a8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (12.5ms)
  Rendered carts/_cart.html.erb (22.0ms)
  Rendered line_items/create.js.erb (27.8ms)
Completed 200 OK in 83ms (Views: 32.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:21:28 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:28 UTC], ["updated_at", 2017-04-05 23:21:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:21:28 UTC], ["updated_at", 2017-04-05 23:21:28 UTC], ["price", #<BigDecimal:7fe573225cd0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 11:21:28 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (182.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (4.4ms)
Completed 200 OK in 434ms (Views: 429.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (15.1ms)
  Rendered line_items/edit.html.erb within layouts/application (17.5ms)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.4ms)
  Rendered line_items/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 51ms (Views: 45.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin/index" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (3.8ms)
OrderMailer#shipped: processed outbound mail in 15.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.5ms)
OrderMailer#received: processed outbound mail in 14.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe57a731880,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 23:21:29 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (14.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 43ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe572e28358,'0.1995E2',18(27)>], ["created_at", 2017-04-05 23:21:29 UTC], ["updated_at", 2017-04-05 23:21:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:29 UTC], ["updated_at", 2017-04-05 23:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.8ms)
  Rendered orders/edit.html.erb within layouts/application (11.6ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:21:29 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:29 UTC], ["updated_at", 2017-04-05 23:21:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: b1c50d20-1420-4c86-bd29-53d9f7160fe6) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57a92a1c8 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC], ["price", #<BigDecimal:7fe57a988ea8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.1ms)
  Rendered orders/new.html.erb within layouts/application (9.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (6.1ms)
  Rendered carts/_cart.html.erb (10.2ms)
Completed 200 OK in 35ms (Views: 28.8ms | ActiveRecord: 0.9ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:21:30.218934', '2017-04-05 23:21:30.218934')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:21:30.218934', '2017-04-05 23:21:30.218934', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:21:30.221354', '2017-04-05 23:21:30.221354', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:21:30.221354', '2017-04-05 23:21:30.221354', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 23:21:30.223574', '2017-04-05 23:21:30.223574', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 23:21:30.223574', '2017-04-05 23:21:30.223574', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:21:30.225304', '2017-04-05 23:21:30.225304', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:21:30.225304', '2017-04-05 23:21:30.225304', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:21:30.225304', '2017-04-05 23:21:30.225304', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:21:30.225304', '2017-04-05 23:21:30.225304', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$dTUYo93RA9nlYW.RrzJUnOxZKxg9ChKD1/v/18oN8S7LMvIiSSoTO', '2017-04-05 23:21:30.227151', '2017-04-05 23:21:30.227151', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$fhtiAbM33m4WoJ.SfqqL3OYKpMU8aEv3SnrYr7Spj0mhWhX0ZFBVu', '2017-04-05 23:21:30.227151', '2017-04-05 23:21:30.227151', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.2ms)
  Rendered carts/edit.html.erb within layouts/application (6.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 7ms (ActiveRecord: 3.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.4ms)
  Rendered carts/new.html.erb within layouts/application (7.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC], ["price", #<BigDecimal:7fe5725f70d0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.5ms)
  Rendered carts/show.html.erb within layouts/application (9.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 1.2ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC], ["price", #<BigDecimal:7fe572667bc8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (5.6ms)
  Rendered line_items/create.js.erb (7.2ms)
Completed 200 OK in 22ms (Views: 9.3ms | ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.8ms)
  Rendered orders/new.html.erb within layouts/application (4.0ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.2ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:21:30 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 23:21:30 UTC], ["updated_at", 2017-04-05 23:21:30 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 23:21:30 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57b262358 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836]   Rendered order_mailer/received.text.erb within layouts/mailer (4.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836] OrderMailer#received: processed outbound mail in 13.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836] Sent mail to dave@example.com (1947.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836] Date: Thu, 06 Apr 2017 11:21:30 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e57bfa80588_e363ff2b8c3f98437745@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [4e1650bf-aaf7-4c04-a38a-059ed2166836] Performed ActionMailer::DeliveryJob from Test(mailers) in 1961.71ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4e1650bf-aaf7-4c04-a38a-059ed2166836) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57268ce50 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1975ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:32 UTC], ["updated_at", 2017-04-05 23:21:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 24ms (Views: 20.3ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by SessionsController#create as HTML
  Rendering sessions/create.html.erb within layouts/application
  Rendered sessions/create.html.erb within layouts/application (0.4ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by SessionsController#destroy as HTML
  Rendering sessions/destroy.html.erb within layouts/application
  Rendered sessions/destroy.html.erb within layouts/application (0.5ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/sessions/new" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:21:32 UTC], ["updated_at", 2017-04-05 23:21:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (5.8ms)
Completed 200 OK in 30ms (Views: 24.9ms | ActiveRecord: 1.1ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.6ms)
  Rendered users/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (1.9ms)
  Rendered users/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$9oO2NIAwJTOa0viy8xYc3OPtHwv55eKBowrW/h.q0wbLPuSOJSfp."], ["updated_at", 2017-04-05 23:21:32 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 11:21:32 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:22:49.750697', '2017-04-05 23:22:49.750697')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:22:49.750697', '2017-04-05 23:22:49.750697', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:22:49.754030', '2017-04-05 23:22:49.754030', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:22:49.754030', '2017-04-05 23:22:49.754030', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 23:22:49.756555', '2017-04-05 23:22:49.756555', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 23:22:49.756555', '2017-04-05 23:22:49.756555', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:22:49.759549', '2017-04-05 23:22:49.759549', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:22:49.759549', '2017-04-05 23:22:49.759549', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:22:49.759549', '2017-04-05 23:22:49.759549', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:22:49.759549', '2017-04-05 23:22:49.759549', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$XHQ8BXXdCuYPN0WLSBIqjexL1DIgn3hHg.L2TPgGoyuoeklXhPqiO', '2017-04-05 23:22:49.762368', '2017-04-05 23:22:49.762368', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$94qTuRRcyHWAIBIL.Ya6LeUFLCr0MkH0utbcOfhcS4EyENJD8Zft.', '2017-04-05 23:22:49.762368', '2017-04-05 23:22:49.762368', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (11.4ms)
OrderMailer#shipped: processed outbound mail in 24.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.4ms)
OrderMailer#received: processed outbound mail in 12.2ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 11:22:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:50 UTC], ["updated_at", 2017-04-05 23:22:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (164.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 248ms (Views: 232.8ms | ActiveRecord: 1.0ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:22:50 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:22:50 UTC], ["updated_at", 2017-04-05 23:22:50 UTC], ["price", #<BigDecimal:7fe577b68988,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.6ms)
  Rendered carts/_cart.html.erb (7.8ms)
  Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 29ms (Views: 12.2ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:22:50 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (11.0ms)
  Rendered orders/new.html.erb within layouts/application (12.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.7ms)
  Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:22:50 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 23:22:50 UTC], ["updated_at", 2017-04-05 23:22:50 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 23:22:50 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe577d63788 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515]   Rendered order_mailer/received.text.erb within layouts/mailer (6.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515] OrderMailer#received: processed outbound mail in 16.6ms
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515] Sent mail to dave@example.com (2077.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515] Date: Thu, 06 Apr 2017 11:22:50 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e57c4aad023_e5e3ff2b8c3f984158b6@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [3a579b62-80c2-4176-92f9-f0f36c804515] Performed ActionMailer::DeliveryJob from Test(mailers) in 2094.44ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 3a579b62-80c2-4176-92f9-f0f36c804515) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe577d11960 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2114ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:52 UTC], ["updated_at", 2017-04-05 23:22:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/new.html.erb within layouts/application (2.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/edit.html.erb within layouts/application (3.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:52 UTC], ["updated_at", 2017-04-05 23:22:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.4ms)
  Rendered carts/show.html.erb within layouts/application (6.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:52 UTC], ["updated_at", 2017-04-05 23:22:52 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:22:52 UTC], ["updated_at", 2017-04-05 23:22:52 UTC], ["price", #<BigDecimal:7fe5780512d8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin/index" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 11:22:52 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:52 UTC], ["updated_at", 2017-04-05 23:22:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 21ms (Views: 16.2ms | ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.5ms)
  Rendered line_items/edit.html.erb within layouts/application (7.6ms)
Completed 200 OK in 30ms (Views: 16.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC], ["price", #<BigDecimal:7fe572c03e10,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.7ms)
  Rendered carts/_cart.html.erb (11.5ms)
  Rendered line_items/create.js.erb (15.1ms)
Completed 200 OK in 34ms (Views: 20.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC], ["price", #<BigDecimal:7fe572c21078,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.1ms)
  Rendered carts/_cart.html.erb (8.3ms)
Completed 200 OK in 37ms (Views: 32.1ms | ActiveRecord: 1.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (4.3ms)
  Rendered line_items/edit.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.8ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.7ms)
  Rendered orders/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC], ["price", #<BigDecimal:7fe57845e538,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.1ms)
  Rendered orders/new.html.erb within layouts/application (7.3ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 0.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 543014ac-16a4-4945-8cab-35cb118620e2) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57a008360 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:22:53.534570', '2017-04-05 23:22:53.534570')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:22:53.534570', '2017-04-05 23:22:53.534570', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:22:53.536619', '2017-04-05 23:22:53.536619', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:22:53.536619', '2017-04-05 23:22:53.536619', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '2017-04-05 23:22:53.538604', '2017-04-05 23:22:53.538604', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '2017-04-05 23:22:53.538604', '2017-04-05 23:22:53.538604', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:22:53.540264', '2017-04-05 23:22:53.540264', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:22:53.540264', '2017-04-05 23:22:53.540264', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:22:53.540264', '2017-04-05 23:22:53.540264', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:22:53.540264', '2017-04-05 23:22:53.540264', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$nDujtLHs1gW63OFiU7bRNe06M8xHJGNT0a0eh3zfF5vvUk5hUR/7C', '2017-04-05 23:22:53.542354', '2017-04-05 23:22:53.542354', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$iMG/Omg9bqFIURdPRQr68uoo8ruOnB0oCB5ZgMCBMJBopByVVy7E2', '2017-04-05 23:22:53.542354', '2017-04-05 23:22:53.542354', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (6.5ms)
  Rendered users/edit.html.erb within layouts/application (9.3ms)
Completed 200 OK in 20ms (Views: 14.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$ewmOpa.2j9Q6QYBm3LycEOucufr9wbYFcOG.xjYa4K5S.yrB3D7Ue"], ["updated_at", 2017-04-05 23:22:53 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 2.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$Kma9JJaSw8XwUZZ7lQloAOdKsRXJnL.OJ1yStXnvF7gOJJSvlxv8G"], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by SessionsController#create as HTML
  Rendering sessions/create.html.erb within layouts/application
  Rendered sessions/create.html.erb within layouts/application (0.4ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by SessionsController#destroy as HTML
  Rendering sessions/destroy.html.erb within layouts/application
  Rendered sessions/destroy.html.erb within layouts/application (0.8ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/sessions/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe57857bb78,'0.1995E2',18(27)>], ["created_at", 2017-04-05 23:22:53 UTC], ["updated_at", 2017-04-05 23:22:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.6ms)
  Rendered products/edit.html.erb within layouts/application (12.5ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 20ms (Views: 17.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe5785ea870,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 23:22:53 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (9.4ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.1ms)
  Rendered products/new.html.erb within layouts/application (7.7ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 11:22:53 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:27:50.806021', '2017-04-05 23:27:50.806021')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:27:50.806021', '2017-04-05 23:27:50.806021', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:27:50.809677', '2017-04-05 23:27:50.809677', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:27:50.809677', '2017-04-05 23:27:50.809677', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-05 23:27:50.812312', '2017-04-05 23:27:50.812312', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-05 23:27:50.812312', '2017-04-05 23:27:50.812312', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:27:50.816748', '2017-04-05 23:27:50.816748', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:27:50.816748', '2017-04-05 23:27:50.816748', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:27:50.816748', '2017-04-05 23:27:50.816748', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:27:50.816748', '2017-04-05 23:27:50.816748', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$klK1CNR3SJwUHYgE7z2npOz11PiMcDc4od6383XanSageK35qbn9q', '2017-04-05 23:27:50.819355', '2017-04-05 23:27:50.819355', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$ah/zLyc7ouvZEHAbW.x4p.YJBYcP5lSuz4DrVAsgsJMz.UNa3zzCC', '2017-04-05 23:27:50.819355', '2017-04-05 23:27:50.819355', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (187.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
Completed 200 OK in 269ms (Views: 252.5ms | ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by SessionsController#destroy as HTML
  Rendering sessions/destroy.html.erb within layouts/application
  Rendered sessions/destroy.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/sessions/new" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by SessionsController#create as HTML
  Rendering sessions/create.html.erb within layouts/application
  Rendered sessions/create.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC], ["price", #<BigDecimal:7fe578759be8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.4ms)
  Rendered carts/_cart.html.erb (9.3ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (9.6ms)
  Rendered line_items/new.html.erb within layouts/application (11.3ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC], ["price", #<BigDecimal:7fe575a43cd0,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.3ms)
  Rendered carts/_cart.html.erb (7.7ms)
  Rendered line_items/create.js.erb (11.0ms)
Completed 200 OK in 25ms (Views: 13.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe571f803f0,'0.1995E2',18(27)>], ["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe5721aac48,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 23:27:51 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (45.8ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 65ms (ActiveRecord: 1.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (3.6ms)
  Rendered products/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.3ms)
  Rendered products/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.3ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 1.6ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC], ["price", #<BigDecimal:7fe5761f0e38,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (5.6ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 18ms (Views: 10.2ms | ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.8ms)
  Rendered orders/new.html.erb within layouts/application (6.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.9ms)
  Rendered carts/_cart.html.erb (7.1ms)
Completed 200 OK in 31ms (Views: 19.3ms | ActiveRecord: 1.1ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:27:51 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 23:27:51 UTC], ["updated_at", 2017-04-05 23:27:51 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 23:27:51 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5760e9df0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b]   Rendered collection of line_items/_line_item.text.erb [1 times] (7.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b]   Rendered order_mailer/received.text.erb within layouts/mailer (11.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b] OrderMailer#received: processed outbound mail in 152.3ms
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b] Sent mail to dave@example.com (1944.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b] Date: Thu, 06 Apr 2017 11:27:52 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e57d78257d2_eb03ff2b8c3f98460982@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [d489f65f-0d86-4c19-8f22-379cdd1efb4b] Performed ActionMailer::DeliveryJob from Test(mailers) in 2097.52ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: d489f65f-0d86-4c19-8f22-379cdd1efb4b) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe575a69818 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2126ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.9ms)
  Rendered orders/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 14641578-0a5d-4458-882f-c99d6b211f72) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5723b68c0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC], ["price", #<BigDecimal:7fe57a469968,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 1.7ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.9ms)
  Rendered orders/new.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.5ms)
  Rendered carts/_cart.html.erb (5.6ms)
Completed 200 OK in 30ms (Views: 25.1ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (5.8ms)
  Rendered carts/new.html.erb within layouts/application (7.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.1ms)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC], ["price", #<BigDecimal:7fe572d29830,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (4.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.0ms)
  Rendered carts/edit.html.erb within layouts/application (3.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:27:54.557922', '2017-04-05 23:27:54.557922')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:27:54.557922', '2017-04-05 23:27:54.557922', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:27:54.559658', '2017-04-05 23:27:54.559658', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:27:54.559658', '2017-04-05 23:27:54.559658', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-05 23:27:54.561289', '2017-04-05 23:27:54.561289', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-05 23:27:54.561289', '2017-04-05 23:27:54.561289', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:27:54.562862', '2017-04-05 23:27:54.562862', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:27:54.562862', '2017-04-05 23:27:54.562862', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:27:54.562862', '2017-04-05 23:27:54.562862', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:27:54.562862', '2017-04-05 23:27:54.562862', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$/M.bYDJ92B5ApFIy7puN5.V/Yb3Tp90AqiWu.nij3zUGnm6ut.1Ka', '2017-04-05 23:27:54.564705', '2017-04-05 23:27:54.564705', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$NvVuNtbRdUnScyhG3wxmouDZP9dm7zISqlRqutPjrVkPwWSVQ4WqG', '2017-04-05 23:27:54.564705', '2017-04-05 23:27:54.564705', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin/index" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (2.7ms)
  Rendered users/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (1.8ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$5WkRywUM8F97FAboYVpEfegLRWGznnE2e65y3ngWBL6UkSil4Vbyi"], ["updated_at", 2017-04-05 23:27:54 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 11:27:54 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$dZ.Inz1jCZJEObhb2WH2xuTHM1Zf8zdCrSmzjMWuXXg7YrK7VOtey"], ["created_at", 2017-04-05 23:27:54 UTC], ["updated_at", 2017-04-05 23:27:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.5ms)
OrderMailer#received: processed outbound mail in 15.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (2.0ms)
OrderMailer#shipped: processed outbound mail in 12.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:30:24.885538', '2017-04-05 23:30:24.885538')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:30:24.885538', '2017-04-05 23:30:24.885538', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:30:24.888632', '2017-04-05 23:30:24.888632', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:30:24.888632', '2017-04-05 23:30:24.888632', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-05 23:30:24.891456', '2017-04-05 23:30:24.891456', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-05 23:30:24.891456', '2017-04-05 23:30:24.891456', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:30:24.894249', '2017-04-05 23:30:24.894249', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:30:24.894249', '2017-04-05 23:30:24.894249', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:30:24.894249', '2017-04-05 23:30:24.894249', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:30:24.894249', '2017-04-05 23:30:24.894249', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$DS0mH6in8kM90XSsWKApuugie6dtu2nHHwVqAmh78uN8nnnlUN0ny', '2017-04-05 23:30:24.896984', '2017-04-05 23:30:24.896984', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$8zF3ZMFattEkU.fnoA1UR.3YPgOMxH8krQJuRjeXlEoGoJj/vBqG2', '2017-04-05 23:30:24.896984', '2017-04-05 23:30:24.896984', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 2251c088-6e61-4f71-8576-f65fb5b23034) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe573514270 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 85ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (23.0ms)
  Rendered orders/edit.html.erb within layouts/application (27.5ms)
Completed 200 OK in 260ms (Views: 257.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC], ["price", #<BigDecimal:7fe575ec5df8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 1.5ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.3ms)
  Rendered orders/new.html.erb within layouts/application (7.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (7.4ms)
  Rendered carts/_cart.html.erb (10.9ms)
Completed 200 OK in 42ms (Views: 24.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe572f2b868,'0.1995E2',18(27)>], ["updated_at", 2017-04-05 23:30:25 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (16.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 45ms (ActiveRecord: 1.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.8ms)
  Rendered products/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.9ms)
  Rendered products/edit.html.erb within layouts/application (9.7ms)
Completed 200 OK in 21ms (Views: 16.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe5721ed228,'0.1995E2',18(27)>], ["created_at", 2017-04-05 23:30:25 UTC], ["updated_at", 2017-04-05 23:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin/index" for 127.0.0.1 at 2017-04-06 11:30:25 +1200
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-05 23:30:26.087254', '2017-04-05 23:30:26.087254')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-05 23:30:26.087254', '2017-04-05 23:30:26.087254', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:30:26.089001', '2017-04-05 23:30:26.089001', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-05 23:30:26.089001', '2017-04-05 23:30:26.089001', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-05 23:30:26.090758', '2017-04-05 23:30:26.090758', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-05 23:30:26.090758', '2017-04-05 23:30:26.090758', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:30:26.092187', '2017-04-05 23:30:26.092187', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-05 23:30:26.092187', '2017-04-05 23:30:26.092187', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-05 23:30:26.092187', '2017-04-05 23:30:26.092187', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-05 23:30:26.092187', '2017-04-05 23:30:26.092187', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$j5uDEfNydLd1iPMurcEFA.moX5gb7Oarf7n6uibwRiiKhj8cvMNHe', '2017-04-05 23:30:26.094230', '2017-04-05 23:30:26.094230', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$RAOUZXP6PvF8GNNMvL8u8.m6yvjj7v5UvD36Jeg/7RYkxYQUSdAO2', '2017-04-05 23:30:26.094230', '2017-04-05 23:30:26.094230', 298486374)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.7ms)
  Rendered carts/edit.html.erb within layouts/application (3.9ms)
  [1m[36mLineItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC], ["price", #<BigDecimal:7fe57328fd38,'0.495E2',18(27)>]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 1.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (39.1ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.3ms)
  Rendered carts/new.html.erb within layouts/application (3.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.2ms)
  Rendered carts/_cart.html.erb (6.4ms)
  Rendered carts/show.html.erb within layouts/application (8.1ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (18.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 43ms (Views: 34.5ms | ActiveRecord: 0.9ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC], ["price", #<BigDecimal:7fe5764e1ca0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (5.8ms)
  Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 20ms (Views: 10.3ms | ActiveRecord: 1.3ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.5ms)
  Rendered orders/new.html.erb within layouts/application (3.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (4.8ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 11:30:26 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-05 23:30:26 UTC], ["updated_at", 2017-04-05 23:30:26 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-05 23:30:26 UTC], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe572276320 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947]   Rendered collection of line_items/_line_item.text.erb [1 times] (2.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947]   Rendered order_mailer/received.text.erb within layouts/mailer (6.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947] OrderMailer#received: processed outbound mail in 181.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947] Sent mail to dave@example.com (1963.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947] Date: Thu, 06 Apr 2017 11:30:26 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e57e1291614_ee03ff2b8c3f9844723b@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [a01c0fe9-29c9-432c-adf6-3e1c7c80d947] Performed ActionMailer::DeliveryJob from Test(mailers) in 2146.41ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: a01c0fe9-29c9-432c-adf6-3e1c7c80d947) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5760c8ad8 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2176ms (ActiveRecord: 3.6ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (1.6ms)
  Rendered users/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$0vLLtEo0J/2BFu96jwGJyOgibQ/Mp3qWO8hTAFGr3GP.pTfrG8iEO"], ["updated_at", 2017-04-05 23:30:28 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$os8vc/GRiA2w1sGy3yN6VOLTjLF0j45nfaEvwcBGgG9krp3gfcU/."], ["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.4ms)
OrderMailer#received: processed outbound mail in 18.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 14.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/sessions/create" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by SessionsController#create as HTML
  Rendering sessions/create.html.erb within layouts/application
  Rendered sessions/create.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/sessions/new" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/sessions/destroy" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by SessionsController#destroy as HTML
  Rendering sessions/destroy.html.erb within layouts/application
  Rendered sessions/destroy.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC], ["price", #<BigDecimal:7fe57a5f4940,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.6ms)
  Rendered carts/_cart.html.erb (8.4ms)
  Rendered line_items/create.js.erb (10.5ms)
Completed 200 OK in 22ms (Views: 13.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC], ["price", #<BigDecimal:7fe57a654fc0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.7ms)
  Rendered carts/_cart.html.erb (8.1ms)
Completed 200 OK in 33ms (Views: 29.8ms | ActiveRecord: 0.9ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.0ms)
  Rendered line_items/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.5ms)
  Rendered line_items/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.3ms)
  Rendered line_items/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 11:30:28 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-05 23:30:28 UTC], ["updated_at", 2017-04-05 23:30:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.1ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.7ms)
Completed 200 OK in 24ms (Views: 19.2ms | ActiveRecord: 1.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:06:36.964727', '2017-04-06 01:06:36.964727')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:06:36.964727', '2017-04-06 01:06:36.964727', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:06:36.969486', '2017-04-06 01:06:36.969486', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:06:36.969486', '2017-04-06 01:06:36.969486', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:06:36.972444', '2017-04-06 01:06:36.972444', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:06:36.972444', '2017-04-06 01:06:36.972444', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:06:36.975105', '2017-04-06 01:06:36.975105', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:06:36.975105', '2017-04-06 01:06:36.975105', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:06:36.975105', '2017-04-06 01:06:36.975105', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:06:36.975105', '2017-04-06 01:06:36.975105', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$M1q8cguQDTYw0OZo/4Ms9.WmR7nKx5t0dif/9NJGeGyWE/ISoqWIm', '2017-04-06 01:06:36.977727', '2017-04-06 01:06:36.977727', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$h9DT/xP3jj8ILE/xdI619.7GRqkToMalDLThdMmZs2fIjVrOoKoc.', '2017-04-06 01:06:36.977727', '2017-04-06 01:06:36.977727', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (14.7ms)
OrderMailer#received: processed outbound mail in 33.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.5ms)
OrderMailer#shipped: processed outbound mail in 12.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 13:06:37 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 246ms (Views: 234.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$sVy/bxDN6VU4EHWR/c73o.mYkI7o.JWC2smIf/fURXmteIMrL039m"], ["updated_at", 2017-04-06 01:06:38 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (23.9ms)
  Rendered users/edit.html.erb within layouts/application (28.9ms)
Completed 200 OK in 47ms (Views: 37.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$f/uAJLKztUD9cNq3aV6fXOYy95K6z7xv.s9F2c5CecePz6b/6kF.."], ["created_at", 2017-04-06 01:06:38 UTC], ["updated_at", 2017-04-06 01:06:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (4.6ms)
  Rendered users/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 20ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:38 UTC], ["updated_at", 2017-04-06 01:06:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (34.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 56ms (Views: 48.4ms | ActiveRecord: 1.0ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:06:38 UTC], ["updated_at", 2017-04-06 01:06:38 UTC], ["price", #<BigDecimal:7fe577bbd690,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.7ms)
  Rendered carts/_cart.html.erb (6.8ms)
  Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 26ms (Views: 11.1ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.0ms)
  Rendered orders/new.html.erb within layouts/application (8.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.8ms)
  Rendered carts/_cart.html.erb (5.2ms)
Completed 200 OK in 22ms (Views: 18.8ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:06:38 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 01:06:38 UTC], ["updated_at", 2017-04-06 01:06:38 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 01:06:38 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe572aebca8 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673]   Rendered order_mailer/received.text.erb within layouts/mailer (4.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673] OrderMailer#received: processed outbound mail in 14.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673] Sent mail to dave@example.com (2041.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673] Date: Thu, 06 Apr 2017 13:06:38 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5949e52a94_125a3ff2b8c3f984724f7@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [9b5eb18e-8d3f-4aab-9037-8d4e2120a673] Performed ActionMailer::DeliveryJob from Test(mailers) in 2057.01ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9b5eb18e-8d3f-4aab-9037-8d4e2120a673) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57600b320 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2074ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.4ms)
  Rendered orders/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 3fdc0ec9-8b60-4290-ab22-f14a8480bc48) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5780a3e48 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC], ["price", #<BigDecimal:7fe577b0d088,'0.495E2',18(27)>]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.1ms)
  Rendered orders/new.html.erb within layouts/application (5.7ms)
  [1m[36mLineItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.3ms)
  Rendered carts/_cart.html.erb (7.0ms)
Completed 200 OK in 36ms (Views: 24.6ms | ActiveRecord: 2.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (4.0ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (4.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:06:40 UTC], ["updated_at", 2017-04-06 01:06:40 UTC], ["price", #<BigDecimal:7fe5735ecdc8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 13:06:40 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.8ms)
  Rendered carts/edit.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 30ms (Views: 23.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:06:40.924826', '2017-04-06 01:06:40.924826')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:06:40.924826', '2017-04-06 01:06:40.924826', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:06:40.927746', '2017-04-06 01:06:40.927746', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:06:40.927746', '2017-04-06 01:06:40.927746', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:06:40.929768', '2017-04-06 01:06:40.929768', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:06:40.929768', '2017-04-06 01:06:40.929768', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:06:40.933069', '2017-04-06 01:06:40.933069', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:06:40.933069', '2017-04-06 01:06:40.933069', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:06:40.933069', '2017-04-06 01:06:40.933069', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:06:40.933069', '2017-04-06 01:06:40.933069', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$p/yXkHdiHTrUkCGd8XDOWu6iBzUeapvJIUnY3UTfVJUO2kl/TW2Wq', '2017-04-06 01:06:40.935660', '2017-04-06 01:06:40.935660', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$ImTvnL.3a1bhXXE8kWfupukFRn39chV81WdZI2z.bch72HOXr/U4y', '2017-04-06 01:06:40.935660', '2017-04-06 01:06:40.935660', 298486374)[0m
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.5ms)
  Rendered line_items/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 25ms (Views: 14.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.4ms)
  Rendered line_items/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC], ["price", #<BigDecimal:7fe57224a018,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.6ms)
  Rendered carts/_cart.html.erb (9.4ms)
  Rendered line_items/create.js.erb (11.6ms)
Completed 200 OK in 23ms (Views: 13.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC], ["price", #<BigDecimal:7fe577aad868,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.3ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.9ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.4ms)
Completed 200 OK in 35ms (Views: 29.0ms | ActiveRecord: 1.3ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe579286930,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 01:06:41 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (18.0ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 70ms (ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe576787b80,'0.1995E2',18(27)>], ["created_at", 2017-04-06 01:06:41 UTC], ["updated_at", 2017-04-06 01:06:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.6ms)
  Rendered products/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 13:06:41 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (5.8ms)
  Rendered products/edit.html.erb within layouts/application (8.1ms)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:12:40.418312', '2017-04-06 01:12:40.418312')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:12:40.418312', '2017-04-06 01:12:40.418312', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:12:40.422135', '2017-04-06 01:12:40.422135', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:12:40.422135', '2017-04-06 01:12:40.422135', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:12:40.424542', '2017-04-06 01:12:40.424542', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:12:40.424542', '2017-04-06 01:12:40.424542', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:12:40.427475', '2017-04-06 01:12:40.427475', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:12:40.427475', '2017-04-06 01:12:40.427475', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:12:40.427475', '2017-04-06 01:12:40.427475', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:12:40.427475', '2017-04-06 01:12:40.427475', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$esEmmci2lADquIZqMM0d1O53jo9UUzrbEpMeRekbIjdVBONGDCavq', '2017-04-06 01:12:40.430294', '2017-04-06 01:12:40.430294', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$La9.TwahjU8m/7L1FGgZc.33BO5jo32AcCkl3sLlwxwJUzHybJBJ.', '2017-04-06 01:12:40.430294', '2017-04-06 01:12:40.430294', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 13:12:40 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe571b10860,'0.1995E2',18(27)>], ["created_at", 2017-04-06 01:12:40 UTC], ["updated_at", 2017-04-06 01:12:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 30ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 13:12:40 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (177.2ms)
Completed 200 OK in 245ms (Views: 242.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe575cbf590,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 01:12:41 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (19.5ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 39ms (ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (14.0ms)
  Rendered products/edit.html.erb within layouts/application (15.7ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.1ms)
  Rendered products/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC], ["price", #<BigDecimal:7fe576292800,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.9ms)
  Rendered carts/_cart.html.erb (11.9ms)
  Rendered line_items/create.js.erb (14.6ms)
Completed 200 OK in 44ms (Views: 19.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.8ms)
  Rendered line_items/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 19ms (Views: 10.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC], ["price", #<BigDecimal:7fe573766e10,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (6.8ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.6ms)
  Rendered line_items/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (43.8ms)
Completed 200 OK in 55ms (Views: 49.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.8ms)
  Rendered orders/edit.html.erb within layouts/application (7.8ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC], ["price", #<BigDecimal:7fe576213960,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.9ms)
  Rendered orders/new.html.erb within layouts/application (4.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.4ms)
  Rendered carts/_cart.html.erb (7.4ms)
Completed 200 OK in 27ms (Views: 22.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: d0332fb4-a452-436c-9be7-c3f0d0b8a7a7) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe573195bd0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 70ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:12:41.914608', '2017-04-06 01:12:41.914608')[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:12:41.914608', '2017-04-06 01:12:41.914608', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:12:41.917330', '2017-04-06 01:12:41.917330', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:12:41.917330', '2017-04-06 01:12:41.917330', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:12:41.919588', '2017-04-06 01:12:41.919588', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:12:41.919588', '2017-04-06 01:12:41.919588', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:12:41.922471', '2017-04-06 01:12:41.922471', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:12:41.922471', '2017-04-06 01:12:41.922471', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:12:41.922471', '2017-04-06 01:12:41.922471', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:12:41.922471', '2017-04-06 01:12:41.922471', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$0O7.TgzZzkIoeRNkbnMbQuoJWcE/JMkDQHgPwUKHJLvvtnptvuY96', '2017-04-06 01:12:41.925247', '2017-04-06 01:12:41.925247', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$i9dyDEooNgwQef6GyslTiuNhl33L2tg5hSF0m.ZT95hh4ZGYwi.bq', '2017-04-06 01:12:41.925247', '2017-04-06 01:12:41.925247', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 13:12:41 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:41 UTC], ["updated_at", 2017-04-06 01:12:41 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (32.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 52ms (Views: 43.5ms | ActiveRecord: 1.5ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:12:42 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:12:42 UTC], ["updated_at", 2017-04-06 01:12:42 UTC], ["price", #<BigDecimal:7fe576371a00,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (5.8ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:12:42 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.3ms)
  Rendered orders/new.html.erb within layouts/application (4.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.3ms)
  Rendered carts/_cart.html.erb (5.4ms)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:12:42 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 01:12:42 UTC], ["updated_at", 2017-04-06 01:12:42 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 01:12:42 UTC], ["id", 980190963]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5722df410 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1]   Rendered order_mailer/received.text.erb within layouts/mailer (5.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1] OrderMailer#received: processed outbound mail in 143.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1] Sent mail to dave@example.com (2037.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1] Date: Thu, 06 Apr 2017 13:12:42 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5960a368a7_129b3ff2b8c3f984748ea@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1] Performed ActionMailer::DeliveryJob from Test(mailers) in 2182.16ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: e18a8e1b-c1b7-466a-b6a0-8d7069cea8c1) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5789b0a90 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2199ms (ActiveRecord: 1.3ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:44 UTC], ["updated_at", 2017-04-06 01:12:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started GET "/logout" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 65ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 70ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.2ms)
OrderMailer#received: processed outbound mail in 11.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (2.3ms)
OrderMailer#shipped: processed outbound mail in 15.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.1ms)
  Rendered carts/show.html.erb within layouts/application (3.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (0.9ms)
  Rendered carts/new.html.erb within layouts/application (2.4ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:44 UTC], ["updated_at", 2017-04-06 01:12:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:12:44 UTC], ["updated_at", 2017-04-06 01:12:44 UTC], ["price", #<BigDecimal:7fe572b8ff10,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:12:44 UTC], ["updated_at", 2017-04-06 01:12:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.9ms)
  Rendered carts/edit.html.erb within layouts/application (3.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$.wEDkCcp0wgCOMdFMGJJw.gShjsiBhF8eyu59ngsJv/S6CPl9mHHK"], ["updated_at", 2017-04-06 01:12:44 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$H4LvlcLWA8nX13euu85g4e8tMWOoGt9HHxL/6PLlaQaA23eoBhfrS"], ["created_at", 2017-04-06 01:12:44 UTC], ["updated_at", 2017-04-06 01:12:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 13:12:44 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:13:21.012463', '2017-04-06 01:13:21.012463')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:13:21.012463', '2017-04-06 01:13:21.012463', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:13:21.014750', '2017-04-06 01:13:21.014750', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:13:21.014750', '2017-04-06 01:13:21.014750', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:13:21.017103', '2017-04-06 01:13:21.017103', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:13:21.017103', '2017-04-06 01:13:21.017103', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:13:21.019524', '2017-04-06 01:13:21.019524', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:13:21.019524', '2017-04-06 01:13:21.019524', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:13:21.019524', '2017-04-06 01:13:21.019524', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:13:21.019524', '2017-04-06 01:13:21.019524', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$fvyy1KUYfabff.XpBpn1UuT8OTCfUTvEAj462x1Ql5UbLyqA2h11W', '2017-04-06 01:13:21.022152', '2017-04-06 01:13:21.022152', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$WQDBQ37KQcOH.e39XreqvO0ceVYKDBDSG0yClWUQ/xc.C2J35It7G', '2017-04-06 01:13:21.022152', '2017-04-06 01:13:21.022152', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (6.4ms)
  Rendered carts/edit.html.erb within layouts/application (8.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 252ms (Views: 241.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:21 UTC], ["updated_at", 2017-04-06 01:13:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.6ms)
  Rendered carts/show.html.erb within layouts/application (6.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:21 UTC], ["updated_at", 2017-04-06 01:13:21 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:13:21 UTC], ["updated_at", 2017-04-06 01:13:21 UTC], ["price", #<BigDecimal:7fe575db3780,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 2.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 13:13:21 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (3.2ms)
OrderMailer#received: processed outbound mail in 13.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.6ms)
OrderMailer#shipped: processed outbound mail in 11.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 13:13:22 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:22 UTC], ["updated_at", 2017-04-06 01:13:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 26ms (Views: 21.6ms | ActiveRecord: 0.8ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:13:22 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:13:22 UTC], ["updated_at", 2017-04-06 01:13:22 UTC], ["price", #<BigDecimal:7fe579a3a7f8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.7ms)
  Rendered carts/_cart.html.erb (9.4ms)
  Rendered line_items/create.js.erb (10.9ms)
Completed 200 OK in 22ms (Views: 13.3ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:13:22 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (8.4ms)
  Rendered orders/new.html.erb within layouts/application (9.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.4ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:13:22 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 01:13:22 UTC], ["updated_at", 2017-04-06 01:13:22 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 01:13:22 UTC], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57a75ab90 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8]   Rendered order_mailer/received.text.erb within layouts/mailer (3.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8] OrderMailer#received: processed outbound mail in 13.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8] Sent mail to dave@example.com (1956.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8] Date: Thu, 06 Apr 2017 13:13:22 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e596322504f_12ba3ff2b8c3f9846135c@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8] Performed ActionMailer::DeliveryJob from Test(mailers) in 1971.25ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9ebf6c8b-4572-40f2-ba86-ec9e7dcb14b8) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57a7484e0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1989ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe57a8010f8,'0.1995E2',18(27)>], ["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe572374510,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 01:13:24 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (13.0ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 36ms (ActiveRecord: 0.9ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 70ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC], ["price", #<BigDecimal:7fe579a4bda0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.2ms)
  Rendered carts/_cart.html.erb (8.6ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 21ms (Views: 13.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.1ms)
  Rendered line_items/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 17ms (Views: 11.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC], ["price", #<BigDecimal:7fe579dd60b0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.5ms)
  Rendered carts/_cart.html.erb (9.2ms)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.7ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC], ["price", #<BigDecimal:7fe57a3abe68,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (5.4ms)
  Rendered orders/new.html.erb within layouts/application (7.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.8ms)
Completed 200 OK in 26ms (Views: 19.5ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 6b121c44-006b-4773-a965-c2ec943735d5) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57a212ea8 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.9ms)
  Rendered orders/edit.html.erb within layouts/application (9.0ms)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (2.0ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 13:13:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:13:24 UTC], ["updated_at", 2017-04-06 01:13:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 31ms (Views: 26.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:13:25.023979', '2017-04-06 01:13:25.023979')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:13:25.023979', '2017-04-06 01:13:25.023979', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:13:25.025873', '2017-04-06 01:13:25.025873', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:13:25.025873', '2017-04-06 01:13:25.025873', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:13:25.027690', '2017-04-06 01:13:25.027690', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:13:25.027690', '2017-04-06 01:13:25.027690', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:13:25.029286', '2017-04-06 01:13:25.029286', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:13:25.029286', '2017-04-06 01:13:25.029286', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:13:25.029286', '2017-04-06 01:13:25.029286', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:13:25.029286', '2017-04-06 01:13:25.029286', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$/gsRR0PPTgR162MnzEM6zuJqSL94zs4fjEVL4MZZvNtrKAiOfVj3m', '2017-04-06 01:13:25.030978', '2017-04-06 01:13:25.030978', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$GuiM1nVrGNRStvcatWvq9.t4Sr0iYwkWsfcmYc6sZlUhmfm09Kso6', '2017-04-06 01:13:25.030978', '2017-04-06 01:13:25.030978', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (6.8ms)
  Rendered users/edit.html.erb within layouts/application (10.6ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$IJIkyHJxlYPUWlk7E5T.leAygTwYTcnQIkoe7KtQ9eewoovfeLR2i"], ["updated_at", 2017-04-06 01:13:25 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$Wkq8uA3gOHODnQZRDDeKQueT7aacQufhZK65AjhTnwOb8QEhdH2/."], ["created_at", 2017-04-06 01:13:25 UTC], ["updated_at", 2017-04-06 01:13:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 13:13:25 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:15:34.935595', '2017-04-06 01:15:34.935595')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:15:34.935595', '2017-04-06 01:15:34.935595', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:15:34.938885', '2017-04-06 01:15:34.938885', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:15:34.938885', '2017-04-06 01:15:34.938885', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:15:34.941841', '2017-04-06 01:15:34.941841', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:15:34.941841', '2017-04-06 01:15:34.941841', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:15:34.944860', '2017-04-06 01:15:34.944860', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:15:34.944860', '2017-04-06 01:15:34.944860', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:15:34.944860', '2017-04-06 01:15:34.944860', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:15:34.944860', '2017-04-06 01:15:34.944860', 110564781)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$5BGwdQBrBUvUo0MYJ2gobugmyzr9FvkMPc1QBtNCVf.ObmjHXJS22', '2017-04-06 01:15:34.948440', '2017-04-06 01:15:34.948440', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$.843mo3dbXR0azm/f3BpgOIeRw6n7f8o/oz096/D823l.B6G9yvMS', '2017-04-06 01:15:34.948440', '2017-04-06 01:15:34.948440', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by AdminController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 190ms (Views: 180.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (10.4ms)
OrderMailer#received: processed outbound mail in 21.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.3ms)
OrderMailer#shipped: processed outbound mail in 11.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:35 UTC], ["updated_at", 2017-04-06 01:15:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (29.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 54ms (Views: 46.8ms | ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:15:35 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:35 UTC], ["updated_at", 2017-04-06 01:15:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC], ["price", #<BigDecimal:7fe572e5daf8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (10.8ms)
  Rendered orders/new.html.erb within layouts/application (13.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.2ms)
  Rendered carts/_cart.html.erb (5.7ms)
Completed 200 OK in 37ms (Views: 24.6ms | ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.9ms)
  Rendered orders/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: e83d2386-fb93-4afa-b265-b1a6ada43978) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe572ece320 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 4.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC], ["price", #<BigDecimal:7fe572f26160,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.6ms)
  Rendered carts/edit.html.erb within layouts/application (5.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
Completed 200 OK in 22ms (Views: 18.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.7ms)
  Rendered carts/show.html.erb within layouts/application (5.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.8ms)
Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/new.html.erb within layouts/application (3.2ms)
  Rendered collection of templates [0 times] (0.1ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:15:36.468412', '2017-04-06 01:15:36.468412')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:15:36.468412', '2017-04-06 01:15:36.468412', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:15:36.470127', '2017-04-06 01:15:36.470127', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:15:36.470127', '2017-04-06 01:15:36.470127', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:15:36.471718', '2017-04-06 01:15:36.471718', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:15:36.471718', '2017-04-06 01:15:36.471718', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:15:36.474117', '2017-04-06 01:15:36.474117', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:15:36.474117', '2017-04-06 01:15:36.474117', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:15:36.474117', '2017-04-06 01:15:36.474117', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:15:36.474117', '2017-04-06 01:15:36.474117', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$yj2Ti1kYpvU9bv0UPMkf2e4.8VXPQGPkz3rMYhLVfaPWppZkKatBi', '2017-04-06 01:15:36.477358', '2017-04-06 01:15:36.477358', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$./M5QacQ..5pBIUAjPTvN.mjsQOP3tPC3zWvd..E59HYppx.LTpgq', '2017-04-06 01:15:36.477358', '2017-04-06 01:15:36.477358', 298486374)[0m
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe5724527c0,'0.1995E2',18(27)>], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (6.6ms)
  Rendered products/edit.html.erb within layouts/application (9.2ms)
Completed 200 OK in 22ms (Views: 18.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe5797b86d8,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 01:15:36 UTC], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (8.2ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 35ms (ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.7ms)
  Rendered products/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 25ms (Views: 20.6ms | ActiveRecord: 0.8ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC], ["price", #<BigDecimal:7fe5796e1728,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (6.4ms)
  Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 28ms (Views: 10.6ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.2ms)
  Rendered orders/new.html.erb within layouts/application (4.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (4.5ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:15:36 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 01:15:36 UTC], ["updated_at", 2017-04-06 01:15:36 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 01:15:36 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5795e7bd8 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac]   Rendered order_mailer/received.text.erb within layouts/mailer (4.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac] OrderMailer#received: processed outbound mail in 14.3ms
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac] Sent mail to dave@example.com (1943.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac] Date: Thu, 06 Apr 2017 13:15:36 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e596b8c6206_13423ff2b8c3f98440237@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [13def712-b22c-43cc-8837-a3dace4f95ac] Performed ActionMailer::DeliveryJob from Test(mailers) in 1958.98ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 13def712-b22c-43cc-8837-a3dace4f95ac) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57b0fb7d0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1975ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:38 UTC], ["updated_at", 2017-04-06 01:15:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:38 UTC], ["updated_at", 2017-04-06 01:15:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:15:38 UTC], ["updated_at", 2017-04-06 01:15:38 UTC], ["price", #<BigDecimal:7fe579496130,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (7.2ms)
  Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 26ms (Views: 11.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (5.7ms)
  Rendered line_items/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.1ms)
  Rendered line_items/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:15:38 UTC], ["updated_at", 2017-04-06 01:15:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:15:38 UTC], ["updated_at", 2017-04-06 01:15:38 UTC], ["price", #<BigDecimal:7fe57a73a250,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (8.9ms)
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (6.9ms)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (3.2ms)
  Rendered line_items/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 13:15:38 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (5.1ms)
  Rendered users/edit.html.erb within layouts/application (9.5ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 13:15:39 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$74Te8Ivyt7M2UG2xwJruhuG1RIjw.DNcZNmFxsj58LUeqKd0sh5HG"], ["updated_at", 2017-04-06 01:15:39 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 19ms (ActiveRecord: 1.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 13:15:39 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$Mpl.pZ/ObcH1WXxVVqbSdOSnqnA6SHnMWvOsGGJZiPOvQQxkJq.WS"], ["created_at", 2017-04-06 01:15:39 UTC], ["updated_at", 2017-04-06 01:15:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 13:15:39 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.4ms)
  Rendered users/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 13:15:39 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 13:15:39 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:57:05.232531', '2017-04-06 01:57:05.232531')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:57:05.232531', '2017-04-06 01:57:05.232531', 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:57:05.237539', '2017-04-06 01:57:05.237539', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:57:05.237539', '2017-04-06 01:57:05.237539', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:57:05.242546', '2017-04-06 01:57:05.242546', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:57:05.242546', '2017-04-06 01:57:05.242546', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:57:05.247948', '2017-04-06 01:57:05.247948', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:57:05.247948', '2017-04-06 01:57:05.247948', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:57:05.247948', '2017-04-06 01:57:05.247948', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:57:05.247948', '2017-04-06 01:57:05.247948', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$I9gdk.IXeawwM0lpAB9zG.kwMUMAUud/I6pK1w8MwFIfhmGMUdtr6', '2017-04-06 01:57:05.252667', '2017-04-06 01:57:05.252667', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$Uj4bIlOWW8OiroZ9PactXOIv7icqo7VUOxhzxiJDYZzSsYCBopEkq', '2017-04-06 01:57:05.252667', '2017-04-06 01:57:05.252667', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:57:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 90ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-04-06 13:57:05 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 198ms (Views: 196.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (4.6ms)
  Rendered carts/new.html.erb within layouts/application (6.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (7.7ms)
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.1ms)
  Rendered carts/show.html.erb within layouts/application (4.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC], ["price", #<BigDecimal:7fe5761dc028,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 1.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (2.1ms)
  Rendered carts/edit.html.erb within layouts/application (4.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (23.0ms)
  Rendered line_items/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 43ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC], ["price", #<BigDecimal:7fe57334ce10,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (10.3ms)
  Rendered carts/_cart.html.erb (26.7ms)
  Rendered line_items/create.js.erb (28.9ms)
Completed 200 OK in 40ms (Views: 31.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.9ms)
  Rendered line_items/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC], ["price", #<BigDecimal:7fe5790e3fb0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 40ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (15.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.2ms)
Completed 200 OK in 40ms (Views: 37.7ms | ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC], ["price", #<BigDecimal:7fe575c86560,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 1.5ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (9.7ms)
  Rendered orders/new.html.erb within layouts/application (17.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.6ms)
  Rendered carts/_cart.html.erb (7.1ms)
Completed 200 OK in 43ms (Views: 36.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.1ms)
  Rendered orders/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/orders" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:57:06 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 01:57:06 UTC], ["updated_at", 2017-04-06 01:57:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9b6ab04e-88ec-4a90-906b-d824107e5fc3) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe573277be8 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 90ms (ActiveRecord: 2.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.8ms)
OrderMailer#received: processed outbound mail in 14.6ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (2.8ms)
OrderMailer#shipped: processed outbound mail in 14.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:07 UTC], ["updated_at", 2017-04-06 01:57:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (17.9ms)
  [1m[36mLineItem Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.5ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 40ms (Views: 33.1ms | ActiveRecord: 1.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 01:57:07.325196', '2017-04-06 01:57:07.325196')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 01:57:07.325196', '2017-04-06 01:57:07.325196', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:57:07.327151', '2017-04-06 01:57:07.327151', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 01:57:07.327151', '2017-04-06 01:57:07.327151', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 01:57:07.328850', '2017-04-06 01:57:07.328850', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 01:57:07.328850', '2017-04-06 01:57:07.328850', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:57:07.330246', '2017-04-06 01:57:07.330246', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 01:57:07.330246', '2017-04-06 01:57:07.330246', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 01:57:07.330246', '2017-04-06 01:57:07.330246', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 01:57:07.330246', '2017-04-06 01:57:07.330246', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$BN9cep7tNAK5Ixh0s2GkleUAevxt.jfiJ7KUBLRINar7vus/FF84i', '2017-04-06 01:57:07.331844', '2017-04-06 01:57:07.331844', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$WJezgOrRGraI3dfmA0disOGZjxxtuYxik07acmG4rpGsCG2d5dOLK', '2017-04-06 01:57:07.331844', '2017-04-06 01:57:07.331844', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Started GET "/admin" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by AdminController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe572dc8110,'0.1995E2',18(27)>], ["created_at", 2017-04-06 01:57:07 UTC], ["updated_at", 2017-04-06 01:57:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (4.2ms)
  Rendered products/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe57366d1a8,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 01:57:07 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (12.1ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 57ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (3.6ms)
  Rendered products/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:07 UTC], ["updated_at", 2017-04-06 01:57:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (14.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.7ms)
Completed 200 OK in 52ms (Views: 38.6ms | ActiveRecord: 1.6ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 01:57:07 UTC], ["updated_at", 2017-04-06 01:57:07 UTC], ["price", #<BigDecimal:7fe57a62c458,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.7ms)
  Rendered carts/_cart.html.erb (9.8ms)
  Rendered line_items/create.js.erb (14.0ms)
Completed 200 OK in 28ms (Views: 21.2ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/new.html.erb within layouts/application (3.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.8ms)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 13:57:07 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 01:57:07 UTC], ["updated_at", 2017-04-06 01:57:07 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 01:57:07 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57ad597f8 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7]   Rendered order_mailer/received.text.erb within layouts/mailer (3.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7] OrderMailer#received: processed outbound mail in 17.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7] Sent mail to dave@example.com (1937.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7] Date: Thu, 06 Apr 2017 13:57:07 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5a073aef5e_15913ff2b8c3f984859b@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [f2173a2d-7942-4336-b8e1-05afb27788e7] Performed ActionMailer::DeliveryJob from Test(mailers) in 1956.49ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f2173a2d-7942-4336-b8e1-05afb27788e7) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57ad439d0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1970ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 01:57:09 UTC], ["updated_at", 2017-04-06 01:57:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (7.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 22ms (Views: 16.5ms | ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$5yrVkwLADosLA1XWgqCIMOvfCB7ujjt3s4v44yJkp94RxInUWsOt2"], ["created_at", 2017-04-06 01:57:09 UTC], ["updated_at", 2017-04-06 01:57:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 22ms (Views: 16.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$sa2ogMaZMO1hCNgpV4m4QOGfnyPHMKCFz2K5H7xAcF7.cEqqgxDQq"], ["updated_at", 2017-04-06 01:57:09 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 13:57:09 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 02:08:21.212604', '2017-04-06 02:08:21.212604')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 02:08:21.212604', '2017-04-06 02:08:21.212604', 298486374)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:08:21.217224', '2017-04-06 02:08:21.217224', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:08:21.217224', '2017-04-06 02:08:21.217224', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 02:08:21.220465', '2017-04-06 02:08:21.220465', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 02:08:21.220465', '2017-04-06 02:08:21.220465', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:08:21.223211', '2017-04-06 02:08:21.223211', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:08:21.223211', '2017-04-06 02:08:21.223211', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 02:08:21.223211', '2017-04-06 02:08:21.223211', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 02:08:21.223211', '2017-04-06 02:08:21.223211', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$0lKe2r/vyVhyhmlfa7jz9eoUQm/IH14QsvR2SLl0OAEhi.0RG.6zK', '2017-04-06 02:08:21.225934', '2017-04-06 02:08:21.225934', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$ZJNc/taUfIbx24HmTDClAuoTUjwHTkP/v76bz0Udy7K3/4MY8bXKi', '2017-04-06 02:08:21.225934', '2017-04-06 02:08:21.225934', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (14.3ms)
OrderMailer#shipped: processed outbound mail in 31.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.3ms)
OrderMailer#received: processed outbound mail in 12.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 81ms (ActiveRecord: 0.1ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:08:21 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:22 UTC], ["updated_at", 2017-04-06 02:08:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:22 UTC], ["updated_at", 2017-04-06 02:08:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:08:22 UTC], ["updated_at", 2017-04-06 02:08:22 UTC], ["price", #<BigDecimal:7fe571b6ab30,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (15.0ms)
  Rendered orders/new.html.erb within layouts/application (16.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (12.8ms)
  Rendered carts/_cart.html.erb (19.0ms)
Completed 200 OK in 242ms (Views: 238.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.8ms)
  Rendered orders/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 70ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:22 UTC], ["updated_at", 2017-04-06 02:08:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 02:08:22 UTC], ["updated_at", 2017-04-06 02:08:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 0cb1d3a2-d319-4af9-b103-6ca9f7ce0dd0) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe57671d848 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 20ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$aD2S7gjiXAXkfy1zD8oev.svZlj0JWC82BadOnuQfVoLek/ja87Iy"], ["created_at", 2017-04-06 02:08:23 UTC], ["updated_at", 2017-04-06 02:08:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$4vDfKhzwmuFbTxX/OzTg.umDp2dHt9ggkWAdldTnKqEI2GB0z90yq"], ["updated_at", 2017-04-06 02:08:23 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 02:08:23.475531', '2017-04-06 02:08:23.475531')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 02:08:23.475531', '2017-04-06 02:08:23.475531', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:08:23.477292', '2017-04-06 02:08:23.477292', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:08:23.477292', '2017-04-06 02:08:23.477292', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 02:08:23.478796', '2017-04-06 02:08:23.478796', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 02:08:23.478796', '2017-04-06 02:08:23.478796', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:08:23.480259', '2017-04-06 02:08:23.480259', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:08:23.480259', '2017-04-06 02:08:23.480259', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 02:08:23.480259', '2017-04-06 02:08:23.480259', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 02:08:23.480259', '2017-04-06 02:08:23.480259', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$Fa13qvPWaJxrqXPOrLoMwOAGf/H1N1gIotwNMkzP2.Y/YcYAN3bri', '2017-04-06 02:08:23.481850', '2017-04-06 02:08:23.481850', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$/wR3qO6LwztRdKhZa0TV0OnS9ZuY4SyIyyHm/aWw8D.yyhpci78eS', '2017-04-06 02:08:23.481850', '2017-04-06 02:08:23.481850', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:23 UTC], ["updated_at", 2017-04-06 02:08:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.1ms)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.6ms)
  Rendered products/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe577828278,'0.1995E2',18(27)>], ["created_at", 2017-04-06 02:08:23 UTC], ["updated_at", 2017-04-06 02:08:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fe577d78700,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 02:08:24 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.5ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 22ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC], ["price", #<BigDecimal:7fe577ed0f08,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
  Rendered carts/show.html.erb within layouts/application (4.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.7ms)
Completed 200 OK in 16ms (Views: 10.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.7ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC], ["price", #<BigDecimal:7fe5783d5710,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (4.8ms)
  Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/new.html.erb within layouts/application (3.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (3.8ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:08:24 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 02:08:24 UTC], ["updated_at", 2017-04-06 02:08:24 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 02:08:24 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5723c2cd8 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8]   Rendered order_mailer/received.text.erb within layouts/mailer (3.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8] OrderMailer#received: processed outbound mail in 14.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8] Sent mail to dave@example.com (2103.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8] Date: Thu, 06 Apr 2017 14:08:24 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5a318e51ab_166c3ff2b8c3f98444820@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [49e04dcc-aa46-4532-a0dd-793c232ea3e8] Performed ActionMailer::DeliveryJob from Test(mailers) in 2118.02ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 49e04dcc-aa46-4532-a0dd-793c232ea3e8) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fe5723a9080 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2134ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:27 UTC], ["updated_at", 2017-04-06 02:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.1ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:27 UTC], ["updated_at", 2017-04-06 02:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:08:27 UTC], ["updated_at", 2017-04-06 02:08:27 UTC], ["price", #<BigDecimal:7fe578560c10,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.4ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:08:27 UTC], ["updated_at", 2017-04-06 02:08:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:08:27 UTC], ["updated_at", 2017-04-06 02:08:27 UTC], ["price", #<BigDecimal:7fe57615cb70,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (6.1ms)
  Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 22ms (Views: 10.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.0ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:28 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:28 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 14:08:28 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:08:28 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 14:08:28 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 02:36:17.829595', '2017-04-06 02:36:17.829595')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 02:36:17.829595', '2017-04-06 02:36:17.829595', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:36:17.833370', '2017-04-06 02:36:17.833370', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:36:17.833370', '2017-04-06 02:36:17.833370', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 02:36:17.835428', '2017-04-06 02:36:17.835428', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 02:36:17.835428', '2017-04-06 02:36:17.835428', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:36:17.837964', '2017-04-06 02:36:17.837964', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:36:17.837964', '2017-04-06 02:36:17.837964', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 02:36:17.837964', '2017-04-06 02:36:17.837964', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 02:36:17.837964', '2017-04-06 02:36:17.837964', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$WgljAbVBUFpHdwAKsL4spu8tQThrceeHezph7yqiG4jsnyKxQVz26', '2017-04-06 02:36:17.840546', '2017-04-06 02:36:17.840546', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$nb3kndvXnLq9kl5KvmoIKe2dJB03aqlitCPBAOubBGB8xbFkC7Vpi', '2017-04-06 02:36:17.840546', '2017-04-06 02:36:17.840546', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 77ms (ActiveRecord: 0.2ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 243ms (Views: 239.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (13.2ms)
  Rendered users/new.html.erb within layouts/application (14.7ms)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$hBAd8Mje06QXojtGiWab3OQJqxZI.X3A0jULTHzp6MbFK0RNkklBq"], ["created_at", 2017-04-06 02:36:18 UTC], ["updated_at", 2017-04-06 02:36:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 69ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (2.9ms)
  Rendered users/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.5ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$PsI2KPczYk2QXuw18usKMuPRmsem8yTe1xZWzy6VX44jsrmRGkFUe"], ["updated_at", 2017-04-06 02:36:18 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:18 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.5ms)
  Rendered carts/new.html.erb within layouts/application (3.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (5.8ms)
Completed 200 OK in 29ms (Views: 26.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
  Rendered carts/show.html.erb within layouts/application (3.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:19 UTC], ["updated_at", 2017-04-06 02:36:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:19 UTC], ["updated_at", 2017-04-06 02:36:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:36:19 UTC], ["updated_at", 2017-04-06 02:36:19 UTC], ["price", #<BigDecimal:7fad46110440,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (4.2ms)
OrderMailer#shipped: processed outbound mail in 18.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (2.7ms)
OrderMailer#received: processed outbound mail in 14.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:19 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 14:36:20 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:20 UTC], ["updated_at", 2017-04-06 02:36:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (3.4ms)
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 0.9ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:36:20 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:36:20 UTC], ["updated_at", 2017-04-06 02:36:20 UTC], ["price", #<BigDecimal:7fad40bd53e0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.1ms)
  Rendered carts/_cart.html.erb (7.0ms)
  Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 18ms (Views: 11.3ms | ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:36:20 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (6.1ms)
  Rendered orders/new.html.erb within layouts/application (7.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.2ms)
  Rendered carts/_cart.html.erb (4.6ms)
Completed 200 OK in 21ms (Views: 17.2ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:36:20 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 02:36:20 UTC], ["updated_at", 2017-04-06 02:36:20 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 02:36:20 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad47439ee0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2]   Rendered order_mailer/received.text.erb within layouts/mailer (4.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2] OrderMailer#received: processed outbound mail in 14.5ms
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2] Sent mail to dave@example.com (1935.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2] Date: Thu, 06 Apr 2017 14:36:20 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5a9a41dda5_18cc3fd6a0021960392a8@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [8c1ca1e5-d71e-4416-bf79-45187c6a0bc2] Performed ActionMailer::DeliveryJob from Test(mailers) in 1950.4ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 8c1ca1e5-d71e-4416-bf79-45187c6a0bc2) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad4740bcc0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1968ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC], ["price", #<BigDecimal:7fad47546db0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/new.html.erb within layouts/application (3.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 02:36:22 UTC], ["updated_at", 2017-04-06 02:36:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9f02d118-706f-423d-adda-f1caa1c6cee6) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad47ba9860 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.2ms)
  Rendered orders/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
SessionsControllerTest: test_should_fail_to_access_admin_page
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 02:36:23.301089', '2017-04-06 02:36:23.301089')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 02:36:23.301089', '2017-04-06 02:36:23.301089', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:36:23.302546', '2017-04-06 02:36:23.302546', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:36:23.302546', '2017-04-06 02:36:23.302546', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 02:36:23.304081', '2017-04-06 02:36:23.304081', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 02:36:23.304081', '2017-04-06 02:36:23.304081', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:36:23.305506', '2017-04-06 02:36:23.305506', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:36:23.305506', '2017-04-06 02:36:23.305506', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 02:36:23.305506', '2017-04-06 02:36:23.305506', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 02:36:23.305506', '2017-04-06 02:36:23.305506', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$/nZfiI9S6JoeBdVVS6uEYuuE172.MCyoE7tAl8OXaO3POqEbzsvwO', '2017-04-06 02:36:23.307089', '2017-04-06 02:36:23.307089', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$6Rh9NRsG1TOVNHzi4yUAd.O2oOLbdUndbpxxj5Ywd.NJGfBZdY.Ey', '2017-04-06 02:36:23.307089', '2017-04-06 02:36:23.307089', 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:23 UTC], ["updated_at", 2017-04-06 02:36:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fad47d0e9a8,'0.1995E2',18(27)>], ["created_at", 2017-04-06 02:36:23 UTC], ["updated_at", 2017-04-06 02:36:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.5ms)
  Rendered products/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.7ms)
  Rendered products/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fad47577a00,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 02:36:24 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.3ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 25ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.2ms)
  Rendered line_items/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 17ms (Views: 11.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:24 UTC], ["updated_at", 2017-04-06 02:36:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:36:24 UTC], ["updated_at", 2017-04-06 02:36:24 UTC], ["price", #<BigDecimal:7fad472e1098,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:36:24 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:36:24 UTC], ["updated_at", 2017-04-06 02:36:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:36:24 UTC], ["updated_at", 2017-04-06 02:36:24 UTC], ["price", #<BigDecimal:7fad3ff21590,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.4ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 17ms (Views: 9.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 02:40:20.805876', '2017-04-06 02:40:20.805876')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 02:40:20.805876', '2017-04-06 02:40:20.805876', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:40:20.808029', '2017-04-06 02:40:20.808029', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 02:40:20.808029', '2017-04-06 02:40:20.808029', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 02:40:20.809727', '2017-04-06 02:40:20.809727', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 02:40:20.809727', '2017-04-06 02:40:20.809727', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:40:20.811637', '2017-04-06 02:40:20.811637', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 02:40:20.811637', '2017-04-06 02:40:20.811637', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 02:40:20.811637', '2017-04-06 02:40:20.811637', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 02:40:20.811637', '2017-04-06 02:40:20.811637', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$xMpoEs4Nj2goRC26w44XmOwDj4htblR7r0ClUjOyg1PoyQ6dbMlYa', '2017-04-06 02:40:20.814009', '2017-04-06 02:40:20.814009', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$KRg0rSmG8QPLhMLLNswxheDrmaMvv5UMl35V4wTxTPXNSWzMSJZdO', '2017-04-06 02:40:20.814009', '2017-04-06 02:40:20.814009', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 76ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:21 UTC], ["updated_at", 2017-04-06 02:40:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (181.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 255ms (Views: 248.1ms | ActiveRecord: 0.7ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (9.1ms)
  Rendered products/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fad43b69d40,'0.1995E2',18(27)>], ["created_at", 2017-04-06 02:40:21 UTC], ["updated_at", 2017-04-06 02:40:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:21 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7fad439497b8,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 02:40:22 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Book Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add To Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 21ms (ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.4ms)
  Rendered carts/new.html.erb within layouts/application (2.7ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:22 UTC], ["updated_at", 2017-04-06 02:40:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:40:22 UTC], ["updated_at", 2017-04-06 02:40:22 UTC], ["price", #<BigDecimal:7fad40327f40,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:22 UTC], ["updated_at", 2017-04-06 02:40:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (2.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered carts/show.html.erb within layouts/application (3.5ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:22 UTC], ["updated_at", 2017-04-06 02:40:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:40:22 UTC], ["updated_at", 2017-04-06 02:40:22 UTC], ["price", #<BigDecimal:7fad439db938,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (12.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (3.5ms)
  Rendered carts/_cart.html.erb (6.8ms)
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:22 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.3ms)
  Rendered line_items/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.4ms)
  Rendered line_items/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:23 UTC], ["updated_at", 2017-04-06 02:40:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:40:23 UTC], ["updated_at", 2017-04-06 02:40:23 UTC], ["price", #<BigDecimal:7fad409760b8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.9ms)
  Rendered carts/_cart.html.erb (8.0ms)
  Rendered line_items/create.js.erb (10.6ms)
Completed 200 OK in 23ms (Views: 13.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$fzQxgJVy0a7y.PfkLSgiPO8Y8YjeIxVzv1.cM75/cCdvZJPT8ej7G"], ["updated_at", 2017-04-06 02:40:23 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$6CNriewvqiYpxf/88MP1ZOhRwxJDTzQLOR7x3kGQAewLt3eVjZ6vq"], ["created_at", 2017-04-06 02:40:23 UTC], ["updated_at", 2017-04-06 02:40:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 14:40:23 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (1.5ms)
  Rendered users/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:24 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 14:40:24 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:24 UTC], ["updated_at", 2017-04-06 02:40:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.7ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:40:24 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:40:24 UTC], ["updated_at", 2017-04-06 02:40:24 UTC], ["price", #<BigDecimal:7fad45c530d8,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (5.1ms)
  Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 15ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:40:24 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (3.7ms)
  Rendered orders/new.html.erb within layouts/application (4.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.2ms)
  Rendered carts/_cart.html.erb (5.5ms)
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:40:24 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 02:40:24 UTC], ["updated_at", 2017-04-06 02:40:24 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 02:40:24 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad3fb16ef0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9]   [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9]   Rendered order_mailer/received.text.erb within layouts/mailer (4.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9] OrderMailer#received: processed outbound mail in 120.2ms
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9] Sent mail to dave@example.com (1943.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9] Date: Thu, 06 Apr 2017 14:40:24 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5aa984b65e_190d3fd6a00219602033b@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [eb6612a5-2254-4367-84d7-b11cc91091f9] Performed ActionMailer::DeliveryJob from Test(mailers) in 2064.92ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: eb6612a5-2254-4367-84d7-b11cc91091f9) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad45db1f38 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2087ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:26 UTC], ["updated_at", 2017-04-06 02:40:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.5ms)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.4ms)
OrderMailer#received: processed outbound mail in 11.3ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 10.9ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
SessionsControllerTest: test_should_fail_to_access_admin_page
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.9ms)
  Rendered orders/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 14:40:26 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:26 UTC], ["updated_at", 2017-04-06 02:40:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 02:40:26 UTC], ["updated_at", 2017-04-06 02:40:26 UTC], ["price", #<BigDecimal:7fad48903d08,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.1ms)
  Rendered orders/new.html.erb within layouts/application (3.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.8ms)
  Rendered carts/_cart.html.erb (4.5ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:27 UTC], ["updated_at", 2017-04-06 02:40:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 02:40:27 UTC], ["updated_at", 2017-04-06 02:40:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 043bd8ae-397b-46e1-a6aa-7e896b3b04d0) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007fad489f01d0 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 02:40:27 UTC], ["updated_at", 2017-04-06 02:40:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 14:40:27 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:46:46.601318', '2017-04-06 04:46:46.601318')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:46:46.601318', '2017-04-06 04:46:46.601318', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:46:46.605597', '2017-04-06 04:46:46.605597', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:46:46.605597', '2017-04-06 04:46:46.605597', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:46:46.607931', '2017-04-06 04:46:46.607931', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:46:46.607931', '2017-04-06 04:46:46.607931', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:46:46.610394', '2017-04-06 04:46:46.610394', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:46:46.610394', '2017-04-06 04:46:46.610394', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:46:46.610394', '2017-04-06 04:46:46.610394', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:46:46.610394', '2017-04-06 04:46:46.610394', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$gRB6miLoEKqtH1NBJDRA4.HVghi2KoYNWjhkGKPHAUB8KP6jEsKXa', '2017-04-06 04:46:46.612856', '2017-04-06 04:46:46.612856', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$AjJDGYeREI97FMPW0bMYveBN6Qz7Ub6O3Dce7IuLzuX0moRvBLZNq', '2017-04-06 04:46:46.612856', '2017-04-06 04:46:46.612856', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:46 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 79ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (19.6ms)
  Rendered line_items/edit.html.erb within layouts/application (23.0ms)
Completed 200 OK in 363ms (Views: 359.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:47 UTC], ["updated_at", 2017-04-06 04:46:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:46:47 UTC], ["updated_at", 2017-04-06 04:46:47 UTC], ["price", #<BigDecimal:7ff7b7e3b758,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (11.7ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.9ms)
  Rendered carts/_cart.html.erb (7.0ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (20.4ms)
  Rendered line_items/edit.html.erb within layouts/application (21.7ms)
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 67ms (ActiveRecord: 0.1ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (2.0ms)
  Rendered line_items/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:47 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC], ["price", #<BigDecimal:7ff7bcd98378,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.4ms)
  Rendered carts/_cart.html.erb (9.9ms)
  Rendered line_items/create.js.erb (13.0ms)
Completed 200 OK in 31ms (Views: 17.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f5c15a08-2d6f-42de-a22e-0af46d643fbc) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7b8cac968 @uri=#<URI::GID gid://depot/Order/980190963>>
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.2ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC], ["price", #<BigDecimal:7ff7b81ec528,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (8.2ms)
  Rendered orders/new.html.erb within layouts/application (10.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.8ms)
  Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 30ms (Views: 25.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (6.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.9ms)
  Rendered orders/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:48 UTC], ["updated_at", 2017-04-06 04:46:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:48 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$7jdogMdae9p3QzH3EBYXaej6so1ste4Q2OoyP4XzON.LFFC2z5XYW"], ["created_at", 2017-04-06 04:46:49 UTC], ["updated_at", 2017-04-06 04:46:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (1.9ms)
  Rendered users/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$gYE5suEB3wmgXwFLy.WRrOaBzEAIUgzn5kX.i3jkZJYwHS6TIjU/K"], ["updated_at", 2017-04-06 04:46:49 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:46:49.555209', '2017-04-06 04:46:49.555209')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:46:49.555209', '2017-04-06 04:46:49.555209', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:46:49.557063', '2017-04-06 04:46:49.557063', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:46:49.557063', '2017-04-06 04:46:49.557063', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:46:49.558406', '2017-04-06 04:46:49.558406', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:46:49.558406', '2017-04-06 04:46:49.558406', 298486374)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:46:49.559778', '2017-04-06 04:46:49.559778', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:46:49.559778', '2017-04-06 04:46:49.559778', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:46:49.559778', '2017-04-06 04:46:49.559778', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:46:49.559778', '2017-04-06 04:46:49.559778', 110564781)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$ECWqHVfpbD8CyHgqx01hrOpul2l0UZQY5HQFPsi3pV6lfOx6wsRmS', '2017-04-06 04:46:49.561347', '2017-04-06 04:46:49.561347', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$nCKCi6Awll7KLjXXyqFPfudyD433uoZWh8p6ymkHdX4qEvPtFll5u', '2017-04-06 04:46:49.561347', '2017-04-06 04:46:49.561347', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/new.html.erb within layouts/application (2.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.1ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.1ms)
  Rendered carts/edit.html.erb within layouts/application (2.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:49 UTC], ["updated_at", 2017-04-06 04:46:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (3.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:50 UTC], ["updated_at", 2017-04-06 04:46:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:46:50 UTC], ["updated_at", 2017-04-06 04:46:50 UTC], ["price", #<BigDecimal:7ff7be1c4f90,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
SessionsControllerTest: test_should_fail_to_access_admin_page
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:50 UTC], ["updated_at", 2017-04-06 04:46:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7bdefecc0,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 04:46:50 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (5.9ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Your Pragmatic Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 22ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.2ms)
  Rendered products/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 67ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7be397070,'0.1995E2',18(27)>], ["created_at", 2017-04-06 04:46:51 UTC], ["updated_at", 2017-04-06 04:46:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:46:51 UTC], ["updated_at", 2017-04-06 04:46:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.1ms)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.6ms)
OrderMailer#received: processed outbound mail in 13.8ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (2.6ms)
OrderMailer#shipped: processed outbound mail in 14.4ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 16:46:51 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:48:03.342874', '2017-04-06 04:48:03.342874')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:48:03.342874', '2017-04-06 04:48:03.342874', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:03.345231', '2017-04-06 04:48:03.345231', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:03.345231', '2017-04-06 04:48:03.345231', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:48:03.347142', '2017-04-06 04:48:03.347142', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:48:03.347142', '2017-04-06 04:48:03.347142', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:03.349693', '2017-04-06 04:48:03.349693', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:03.349693', '2017-04-06 04:48:03.349693', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:48:03.349693', '2017-04-06 04:48:03.349693', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:48:03.349693', '2017-04-06 04:48:03.349693', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$CdYG9e1Ba2vT9kitUGCKd.GPxH0579gBBh/4sZ5FIIj1y08gCjAaK', '2017-04-06 04:48:03.351824', '2017-04-06 04:48:03.351824', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$0TuylEHJ6hjRAKQBRujSde53b2idOx8LdkhbYSwBniY6pGAgNsrba', '2017-04-06 04:48:03.351824', '2017-04-06 04:48:03.351824', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:03 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 76ms (ActiveRecord: 0.4ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 16:48:03 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (27.9ms)
Completed 200 OK in 223ms (Views: 219.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (6.8ms)
  Rendered line_items/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.9ms)
  Rendered line_items/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:04 UTC], ["updated_at", 2017-04-06 04:48:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:04 UTC], ["updated_at", 2017-04-06 04:48:04 UTC], ["price", #<BigDecimal:7ff7b8e09e50,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (12.1ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.7ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.6ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:04 UTC], ["updated_at", 2017-04-06 04:48:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:04 UTC], ["updated_at", 2017-04-06 04:48:04 UTC], ["price", #<BigDecimal:7ff7b78484e0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (5.0ms)
  Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 17ms (Views: 8.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:04 UTC], ["updated_at", 2017-04-06 04:48:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 18ms (Views: 13.9ms | ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
SessionsControllerTest: test_should_fail_to_access_admin_page
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:04 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/new.html.erb within layouts/application (2.3ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:05 UTC], ["updated_at", 2017-04-06 04:48:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.0ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered carts/show.html.erb within layouts/application (3.6ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.2ms)
  Rendered carts/edit.html.erb within layouts/application (2.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:05 UTC], ["updated_at", 2017-04-06 04:48:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:05 UTC], ["updated_at", 2017-04-06 04:48:05 UTC], ["price", #<BigDecimal:7ff7b8c4d008,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:05 UTC], ["updated_at", 2017-04-06 04:48:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 16:48:05 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (4.5ms)
  Rendered orders/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:06 UTC], ["updated_at", 2017-04-06 04:48:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:06 UTC], ["updated_at", 2017-04-06 04:48:06 UTC], ["price", #<BigDecimal:7ff7b87f3480,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.3ms)
  Rendered orders/new.html.erb within layouts/application (3.9ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.9ms)
  Rendered carts/_cart.html.erb (5.1ms)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:06 UTC], ["updated_at", 2017-04-06 04:48:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 04:48:06 UTC], ["updated_at", 2017-04-06 04:48:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 0318d664-6283-4688-b5fb-309eda593918) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bc367d18 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 43ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (4.9ms)
  Rendered products/edit.html.erb within layouts/application (6.7ms)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7bdd2d310,'0.1995E2',18(27)>], ["created_at", 2017-04-06 04:48:06 UTC], ["updated_at", 2017-04-06 04:48:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (1.9ms)
  Rendered products/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7bdd7efa8,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 04:48:06 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.5ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Your Pragmatic Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 22ms (ActiveRecord: 0.8ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:06 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.6ms)
OrderMailer#shipped: processed outbound mail in 12.0ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.5ms)
OrderMailer#received: processed outbound mail in 11.5ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.0ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$JfZs6Rpia/ndhbV6fOrLCO22ID6LKaT6lNMa4IS1KbE25TxALDMl6"], ["updated_at", 2017-04-06 04:48:07 UTC], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$sDzyGsVusMG9X/yxPw2tUOFeQ/a/PuAyZfHn7ZxMM1wL3Sw/mzvna"], ["created_at", 2017-04-06 04:48:07 UTC], ["updated_at", 2017-04-06 04:48:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (1.7ms)
  Rendered users/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:48:07.875271', '2017-04-06 04:48:07.875271')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:48:07.875271', '2017-04-06 04:48:07.875271', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:07.877104', '2017-04-06 04:48:07.877104', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:07.877104', '2017-04-06 04:48:07.877104', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:48:07.878527', '2017-04-06 04:48:07.878527', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:48:07.878527', '2017-04-06 04:48:07.878527', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:07.880260', '2017-04-06 04:48:07.880260', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:07.880260', '2017-04-06 04:48:07.880260', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:48:07.880260', '2017-04-06 04:48:07.880260', 207281424)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:48:07.880260', '2017-04-06 04:48:07.880260', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$F0P/PTWihixwMyOKzT1.BOEtZByAWsqdCAZgY59GJ7ICjrhHbUeEi', '2017-04-06 04:48:07.882016', '2017-04-06 04:48:07.882016', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$p.NzasJ7gesyspF65kdFwu8H4wYEXz3yOhgEoBbBBkBPotQPxLz7m', '2017-04-06 04:48:07.882016', '2017-04-06 04:48:07.882016', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:07 UTC], ["updated_at", 2017-04-06 04:48:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.3ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.7ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:07 UTC], ["updated_at", 2017-04-06 04:48:07 UTC], ["price", #<BigDecimal:7ff7bff81470,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:07 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.7ms)
  Rendered orders/new.html.erb within layouts/application (3.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.1ms)
  Rendered carts/_cart.html.erb (5.3ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 16:48:08 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 04:48:08 UTC], ["updated_at", 2017-04-06 04:48:08 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 04:48:08 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bed94ff0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad]   Rendered order_mailer/received.text.erb within layouts/mailer (4.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad] OrderMailer#received: processed outbound mail in 16.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad] Sent mail to dave@example.com (2034.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad] Date: Thu, 06 Apr 2017 16:48:08 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5c888b6e4_1f343ffbdb83f98486fd@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [f288f79a-6f67-413d-a497-b6374d4ee7ad] Performed ActionMailer::DeliveryJob from Test(mailers) in 2051.23ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f288f79a-6f67-413d-a497-b6374d4ee7ad) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bffe9c00 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 2065ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:10 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:10 UTC], ["updated_at", 2017-04-06 04:48:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:10 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 16:48:10 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:48:49.157919', '2017-04-06 04:48:49.157919')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:48:49.157919', '2017-04-06 04:48:49.157919', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:49.160044', '2017-04-06 04:48:49.160044', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:49.160044', '2017-04-06 04:48:49.160044', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:48:49.161788', '2017-04-06 04:48:49.161788', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:48:49.161788', '2017-04-06 04:48:49.161788', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:49.163782', '2017-04-06 04:48:49.163782', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:49.163782', '2017-04-06 04:48:49.163782', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:48:49.163782', '2017-04-06 04:48:49.163782', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:48:49.163782', '2017-04-06 04:48:49.163782', 110564781)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$vyh.PW2RhSQ5dqo3AKwYbeU/4HUAIVlLoKLEq/KU/x.qI17BUqCli', '2017-04-06 04:48:49.165749', '2017-04-06 04:48:49.165749', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$MPqKf32/OQpi5tuY7lmFA.UyNnZFSKm08CIz/0yDYDFrWsRBTCcZq', '2017-04-06 04:48:49.165749', '2017-04-06 04:48:49.165749', 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 74ms (ActiveRecord: 0.1ms)
Started GET "/carts/new" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (5.8ms)
  Rendered carts/new.html.erb within layouts/application (7.9ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 229ms (Views: 226.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:49 UTC], ["updated_at", 2017-04-06 04:48:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:49 UTC], ["updated_at", 2017-04-06 04:48:49 UTC], ["price", #<BigDecimal:7ff7bca722e8,'0.495E2',18(27)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started DELETE "/carts/298486375" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"298486375"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
Started POST "/carts" for 127.0.0.1 at 2017-04-06 16:48:49 +1200
Processing by CartsController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:49 UTC], ["updated_at", 2017-04-06 04:48:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/298486375
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/carts" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  Rendered carts/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/carts/1/edit" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (1.0ms)
  Rendered carts/edit.html.erb within layouts/application (2.4ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/carts/1" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (3.2ms)
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.0ms)
Started PATCH "/carts/1" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by CartsController#update as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/carts/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
SessionsControllerTest: test_should_fail_login
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
SessionsControllerTest: test_should_fail_to_access_admin_page
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
SessionsControllerTest: test_should_login
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
SessionsControllerTest: test_should_prompt_for_login
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Programming Ruby 1.9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------
ProductTest: test_the_truth
---------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (7.8ms)
  Rendered orders/edit.html.erb within layouts/application (9.1ms)
Completed 200 OK in 35ms (Views: 32.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:50 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
OrdersControllerTest: test_requires_item_in_cart
------------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kate Norquay"], ["address", "MyText"], ["email", "katen@gmail.com"], ["pay_type", 1], ["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: a955f644-50a6-4ddf-aee5-cc8daffb250f) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bcf01728 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.1ms)
Started PATCH "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"katen@gmail.com", "name"=>"Kate Norquay", "pay_type"=>"Credit card", "ship_date"=>"0001-02-17"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: ship_date
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/orders" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered orders/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 68ms (ActiveRecord: 0.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC], ["price", #<BigDecimal:7ff7bc8002d0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (2.3ms)
  Rendered orders/new.html.erb within layouts/application (3.7ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (4.3ms)
  Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 25ms (Views: 20.4ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started DELETE "/orders/980190962" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "carts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("id", "created_at", "updated_at") VALUES (1, '2017-04-06 04:48:51.717729', '2017-04-06 04:48:51.717729')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at", "id") VALUES ('2017-04-06 04:48:51.717729', '2017-04-06 04:48:51.717729', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "line_items"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:51.720255', '2017-04-06 04:48:51.720255', 980190962, 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "line_items" ("created_at", "updated_at", "id", "product_id", "cart_id") VALUES ('2017-04-06 04:48:51.720255', '2017-04-06 04:48:51.720255', 298486374, 207281424, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "orders"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Kate Norquay', 'MyText', 'katen@gmail.com', 1, '0001-02-17', '2017-04-06 04:48:51.722310', '2017-04-06 04:48:51.722310', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "ship_date", "created_at", "updated_at", "id") VALUES ('Annabella Gamboni', 'MyText', 'gambo@gmail.com', 2, '0004-08-17', '2017-04-06 04:48:51.722310', '2017-04-06 04:48:51.722310', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:51.724328', '2017-04-06 04:48:51.724328', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', 9.99, '2017-04-06 04:48:51.724328', '2017-04-06 04:48:51.724328', 298486374)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2017-04-06 04:48:51.724328', '2017-04-06 04:48:51.724328', 207281424)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "price", "image_url", "created_at", "updated_at", "id") VALUES ('The sims', 'A great game.', 32.5, 'sims.jpg', '2017-04-06 04:48:51.724328', '2017-04-06 04:48:51.724328', 110564781)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Steve', '$2a$10$UduV.A4YLr7YCVMWVN5qLOXjV.sQ.GJppoW9gW1NdO0Bgx4eYX1ny', '2017-04-06 04:48:51.726650', '2017-04-06 04:48:51.726650', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "id") VALUES ('Anna', '$2a$10$y0AgopyITPyQFu947Y4a6ORMJM9Rq.sDo5E0qt0uP5/f.Vofzn1fW', '2017-04-06 04:48:51.726650', '2017-04-06 04:48:51.726650', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (3.9ms)
  Rendered users/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "sam"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "sam"], ["password_digest", "$2a$04$IrqPHjQ9zSEQUoVMqfsyfemVKCAXywseI.QwB3eowj7mMmYGTjE9q"], ["created_at", 2017-04-06 04:48:51 UTC], ["updated_at", 2017-04-06 04:48:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:51 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/users" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  Rendered users/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/users/new" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started PATCH "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Steve", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["name", "Steve"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$wyhFqfxs2zieM5LhnAUpkO30MArltmryZx6TQDWGkgrav9Ha9qW7a"], ["updated_at", 2017-04-06 04:48:52 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
Started GET "/users/980190962" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
OrderMailerTest: test_received
------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/received.text.erb within layouts/mailer (1.9ms)
OrderMailer#received: processed outbound mail in 11.7ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
OrderMailerTest: test_shipped
-----------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering order_mailer/shipped.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190962]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered order_mailer/shipped.html.erb within layouts/mailer (1.4ms)
OrderMailer#shipped: processed outbound mail in 11.1ms
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (2.8ms)
  Rendered products/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_can't_delete_product_in_a_cart
-----------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/products/298486374" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."product_id" = ? LIMIT ?[0m  [["product_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
Started PATCH "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? AND ("products"."id" != ?) LIMIT ?[0m  [["title", "New Product"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "description" = ?, "image_url" = ?, "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7bf139b38,'0.1995E2',18(27)>], ["updated_at", 2017-04-06 04:48:52 UTC], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered store/index.html.erb (6.6ms)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Your Pragmatic Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/images/sims.jpg\" alt=\"Sims\" />\n        <h3>The sims</h3>\n        <p>A great game.</p>\n        <div class='price_line'>\n          <span class=\"price\">$32.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=110564781\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/ruby.png\" alt=\"Ruby\" />\n        <h3>Programming Ruby 1.9</h3>\n        <p>Ruby is the fastest growing and most exciting dynamic language out there.  If you need to get working programs delivered fast, you should add Ruby to your toolbox.</p>\n        <div class='price_line'>\n          <span class=\"price\">$49.50</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=207281424\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/MyString\" alt=\"Mystring\" />\n        <h3>MyString</h3>\n        <p>MyText</p>\n        <div class='price_line'>\n          <span class=\"price\">$9.99</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=298486374\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/images/product.jpg\" alt=\"Product\" />\n        <h3>New Product</h3>\n        <p>a great product</p>\n        <div class='price_line'>\n          <span class=\"price\">$19.95</span>\n          <form class=\"button_to\" method=\"post\" action=\"/en/line_items?product_id=980190962\" data-remote=\"true\"><input type=\"submit\" value=\"Add to Cart\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://www.example.com/products/980190962
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/products/new" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (2.0ms)
  Rendered products/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/products/980190962" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/products" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"New Product", "description"=>"a great product", "image_url"=>"product.jpg", "price"=>"19.95"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "New Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "New Product"], ["description", "a great product"], ["image_url", "product.jpg"], ["price", #<BigDecimal:7ff7bf2abb10,'0.1995E2',18(27)>], ["created_at", 2017-04-06 04:48:52 UTC], ["updated_at", 2017-04-06 04:48:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/products/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:52 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.1ms)
Started GET "/products" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 59ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:53 UTC], ["updated_at", 2017-04-06 04:48:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 1.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserStoriesTest: test_buying_a_product
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:53 UTC], ["updated_at", 2017-04-06 04:48:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.5ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.6ms)
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:53 UTC], ["updated_at", 2017-04-06 04:48:53 UTC], ["price", #<BigDecimal:7ff7c0198088,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.6ms)
  Rendered carts/_cart.html.erb (5.4ms)
  Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (1.8ms)
  Rendered orders/new.html.erb within layouts/application (3.2ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.5ms)
  Rendered carts/_cart.html.erb (4.1ms)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 0.5ms)
Started POST "/orders" for 127.0.0.1 at 2017-04-06 16:48:53 +1200
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"123 The Street", "email"=>"dave@example.com", "pay_type"=>"Check"}}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dave Thomas"], ["address", "123 The Street"], ["email", "dave@example.com"], ["pay_type", 0], ["created_at", 2017-04-06 04:48:53 UTC], ["updated_at", 2017-04-06 04:48:53 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 980190963], ["updated_at", 2017-04-06 04:48:53 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae] Performing ActionMailer::DeliveryJob from Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bf4c39c0 @uri=#<URI::GID gid://depot/Order/980190963>>
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae]   Rendered collection of line_items/_line_item.text.erb [1 times] (1.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae]   Rendered order_mailer/received.text.erb within layouts/mailer (3.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae] OrderMailer#received: processed outbound mail in 13.2ms
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae] Sent mail to dave@example.com (1917.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae] Date: Thu, 06 Apr 2017 16:48:53 +1200
From: from@example.com
To: dave@example.com
Message-ID: <58e5c8b546379_1f533ffbdb83f9844066@Kates-MacBook-Pro.local.mail>
Subject: Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9

We'll send you a separate e-mail when your order ships.


[ActiveJob] [ActionMailer::DeliveryJob] [8fabe3b2-74ea-4633-989c-4e06567d04ae] Performed ActionMailer::DeliveryJob from Test(mailers) in 1931.02ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 8fabe3b2-74ea-4633-989c-4e06567d04ae) to Test(mailers) with arguments: "OrderMailer", "received", "deliver_now", #<GlobalID:0x007ff7bf4a2658 @uri=#<URI::GID gid://depot/Order/980190963>>
Redirected to http://www.example.com/
Completed 302 Found in 1944ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:55 UTC], ["updated_at", 2017-04-06 04:48:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (6.0ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486376], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered carts/_cart.html.erb (1.6ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486376], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 980190963]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started DELETE "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/line_items
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 66ms (ActiveRecord: 0.1ms)
Started GET "/line_items" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)
Started GET "/line_items/new" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.6ms)
  Rendered line_items/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 60ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962/edit" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.5ms)
  Rendered line_items/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:55 UTC], ["updated_at", 2017-04-06 04:48:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (7.9ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:55 UTC], ["updated_at", 2017-04-06 04:48:55 UTC], ["price", #<BigDecimal:7ff7bf695500,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 8.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
Started GET "/" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 298486375], ["LIMIT", 1]]
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  Rendered store/index.html.erb within layouts/application (5.8ms)
  [1m[36mLineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (1.7ms)
  Rendered carts/_cart.html.erb (4.3ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.1ms)
Started GET "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering line_items/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered line_items/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 62ms (ActiveRecord: 0.3ms)
Started PATCH "/line_items/980190962" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.0ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (1.8ms)
  Rendered line_items/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Steve", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Steve"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 63ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
Started POST "/line_items" for 127.0.0.1 at 2017-04-06 16:48:55 +1200
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-06 04:48:55 UTC], ["updated_at", 2017-04-06 04:48:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT  "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 298486375], ["product_id", 207281424], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 207281424], ["cart_id", 298486375], ["created_at", 2017-04-06 04:48:55 UTC], ["updated_at", 2017-04-06 04:48:55 UTC], ["price", #<BigDecimal:7ff7c01bafc0,'0.495E2',18(27)>]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 298486375]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 207281424], ["LIMIT", 1]]
  Rendered collection of line_items/_line_item.html.erb [1 times] (2.0ms)
  Rendered carts/_cart.html.erb (5.7ms)
  Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 18ms (Views: 9.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
